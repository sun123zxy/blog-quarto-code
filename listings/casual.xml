<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>sun123zxy&#39;s blog</title>
<link>https://blog.sun123zxy.top/listings/casual.html</link>
<atom:link href="https://blog.sun123zxy.top/listings/casual.xml" rel="self" type="application/rss+xml"/>
<description>Rambling things.</description>
<image>
<url>https://blog.sun123zxy.top/assets/images/sleep.jpg</url>
<title>sun123zxy&#39;s blog</title>
<link>https://blog.sun123zxy.top/listings/casual.html</link>
</image>
<generator>quarto-1.5.57</generator>
<lastBuildDate>Tue, 30 May 2023 00:00:00 GMT</lastBuildDate>
<item>
  <title>CCPC 2023 湘潭邀请赛游记</title>
  <dc:creator>sun123zxy </dc:creator>
  <link>https://blog.sun123zxy.top/posts/20230530-xiangtan/</link>
  <description><![CDATA[ 




<section id="序" class="level2">
<h2 class="anchored" data-anchor-id="序">序</h2>
<p>04:36，长沙返程的硬卧列车上。</p>
<p>禁不起隔壁大叔富有特色的鼾声，对着窗外发愣。</p>
<p>写写游记吧。</p>
</section>
<section id="day--inf-0" class="level2">
<h2 class="anchored" data-anchor-id="day--inf-0">Day (-inf, 0)</h2>
<p>由于 UCUP Taiwan 场神奇的发挥，意外获得湘潭邀请赛名额 x1。公费旅游万岁！</p>
<p>然而，飞机不给报，高铁不给报，软卧不给报，打车也不给报，路途时间高达 30h，还被迫翘掉周五周一头尾三节大课，体验并不良好。祸不单行，赛前十余日惊悉普物 27 日下午期末考试，若申请缓考，本学期的奖学金怕是无了。思量再三，还是想去，决定与队友兵分两路，考完直接空降长沙，再想办法到湘潭。晚上城铁已经收班，要是想当天到，恐怕只能高价打车了。这么算下来……</p>
<p>自费金额 +1000 : (</p>
<p>火车票意外地非常抢手，稍不留神，返程火车就只剩晚上 11 点半的了——赶上明天的早课是没必要再想了。不过，岳麓山橘子洲恰在长沙站西不远处，看看夜景也是不错的。</p>
<p>其它队伍似乎并不太着急……</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/whynot.jpg" class="img-fluid figure-img"></p>
<figcaption>你先别急</figcaption>
</figure>
</div>
<p>最后竟因抢票太积极，被迫与大部队分道扬镳 : (</p>
</section>
<section id="day-0" class="level2">
<h2 class="anchored" data-anchor-id="day-0">Day 0</h2>
<p>去湘潭的路途并无太多亮点，感受是 <img src="https://latex.codecogs.com/png.latex?%0A1000%20%5Ctext%7BCNY%7D%20=%20%5Ctext%7B%E9%A3%9E%E6%9C%BA%7D%20+%20%5Ctext%7B%E6%89%93%E8%BD%A6%7D%20+%20%5Ctext%7B%E4%B9%9F%E4%B8%8D%E7%9F%A5%E9%81%93%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B%E5%8F%8D%E6%AD%A3%E8%8E%AB%E5%90%8D%E5%85%B6%E5%A6%99%E5%B0%B1%E5%88%B0%E4%BA%86%E7%9A%84%E4%BD%93%E9%AA%8C%7D%0A"></p>
<p>从半径来看，大兴机场并没有想象中的大。但其空间设计非常有意思。雪花状的航站楼中间高两头低，下站点、值机、安检全部集中在中心区域，而航站楼、廊桥、登机口通过几只触角向远端延伸，空间利用率极高，极大地节省了转场行走花费的时间。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/daxing.jpg" class="img-fluid figure-img"></p>
<figcaption>颇有商圈风范</figcaption>
</figure>
</div>
<p>与队友联系，惊悉热身赛诸多不尽人意之处。这小破赛居然不用 DOMJudge？Pending 一发 20 min？评测机 32 位没 <code>__int128</code>？PE 是什么鬼东西？Dev C++ 只提供魔改版？VSCode 给了但机子带不动？……感觉不如校赛。希望不是所有 CCPC 都这样（</p>
<p>队友给看了道热身赛题说是签到数论，飞机上吭哧吭哧半天无果，结果发现被诈骗了，赛时场内一人未过（</p>
<p>到达 XX 电竞酒店，半夜。发现机子上竟有 Age of Empires 2——更神奇的是，队友竟突然指出 AoE2 是其机房的传统艺能！？小众中的小众，从未发现同好的 RTS/AoE 玩家落泪了。遗憾的是到得太晚，没来得及切磋一把。01:00 左右睡下。</p>
</section>
<section id="day-1" class="level2">
<h2 class="anchored" data-anchor-id="day-1">Day 1</h2>
<p>湖南的清晨从一碗米粉开始——味道不错，但口感并不太中意。</p>
<p>一出门才感受到湖南的湿热：湿度高达 90% 的头顶烈日，走上两分钟就汗水淋漓，可不比某火炉城市好到那里。已经可以想象无法洗澡就要登上返程火车的我们会有多臭了 : ( 。更别说湘潭大学惊人的大小，坚持到开幕式现场的根本就没几个队（</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/xiangtan-1.jpg" class="img-fluid figure-img"></p>
<figcaption>湘大某入口</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/xiangtan-2.jpg" class="img-fluid figure-img"></p>
<figcaption>校徽版（据说存在缺漏）</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>有气球（没有 CCPC 图标），有打印（比评测快），有汉堡套餐（没怎么认真吃），志愿者人手似乎不太够，每个考室甚至分不到一个监考。</p>
<p>随便开题。两位队友秒了 I 然后 J（牛！）。随机游走开题，L 感觉是什么大力数据结构嵌套，E 数学题玩了玩感觉并没有什么思路，但发现并秒了 H，然后第一梯队的签到题好像就做完了。继续随机游走，看了 G 以为队友做过，确认后发现并没有，那应该就不太容易了。看榜开 F，干碎臭长题面发现就是个基础<del>随机运筹学</del>期望 dp，队友灵魂提醒需要特判 <img src="https://latex.codecogs.com/png.latex?B=1">，成功 1A。这期间两位队友也开了 A 但一发 WA 一发 TLE——怎么会 T 呢？在此之间卡壳卡爆。三人干瞪眼贡献四发罚时浪费 1h，结果竟是 <img src="https://latex.codecogs.com/png.latex?10%5E5"> 次 <code>printf</code> 在老爷评测上跑的太慢！写题的队友表示以后彻底切割 C 风格读写（</p>
<p>然后三人回头看之前和一位队友讨论一半的 K（J 是 K 的 checker 海星）。想到了 <code>aa</code>, <code>bb</code>, <code>cc</code>, …, <code>ab</code>, <code>ac</code>, <code>ad</code>, … 的构造方式，但在考虑后续延伸时莫名认为要继续移位构造超大置换环 <code>abcde...</code>, <code>acegi...</code>，于是开始大力计算 <img src="https://latex.codecogs.com/png.latex?%5Csum_%7Bi=0%7D%5E%7B25%7D%20%5Cgcd(26,i)">。队友打断吟唱，指出只需 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%20%7B25%20%5Ctimes%2024%7D%7B2%7D"> 两位循环并在后面填充 <code>z</code> 即可，遂暴毙，决定先拿下汉堡套餐，然后继续游走摆烂。然而队友小脑转的比大脑快，光速敲完遗憾 WA，似乎他的特判有亿点多。调试无果，打印，换我重写。写得差不多了，两位队友合力调试突然成功，于是历经坎坷终于进入 6 题区。</p>
<p>距比赛结束还有一个半小时左右。看 B 看 D，深感星穹铁道题面之博大精深，决定搏一搏 L。上了个厕所发现会二维了，三维似乎也只是颗二维线段树，维护 max/min 判断当前操作方块是否平整 + 区间覆盖的修改操作即可。然而队友思路是神奇的二维扫描线，顿感自己非常不熟悉这种非标线段树。激烈讨论后，还是让擅长数据结构的队友按他熟悉的方法实现。然而队友实现一半算法竟然假了，又紧急更换写法，此前表现正常的电脑突然开始变卡，三个人对着电脑大吼大叫，最后 2 min 写完了代码！F11！输出“No”！摆！</p>
<p>第一次外出比赛就这样结束了。比较遗憾的，无疑是 A <code>printf</code> 吃的四发罚时了。给你校老爷评测机跪了（</p>
<p>滚榜环节的操作非常迷惑，不从奖牌区滚起，又跳过了 Cu Ag 区，滚了个寂寞。因为老爷评测机的原因，封榜前后的排名也几乎没有发生变化。6 题金银铜，这是我能见着的区分度吗（</p>
<p>最后冠军颁奖倒意外地有节目效果。主持人抑扬顿挫念出“梦想天生”，BGM 和掌声突然响起，恍惚有 Dream Battle 前奏噔噔咚，灵梦按在地上揍的感觉（</p>
</section>
<section id="day-1-赛后" class="level2">
<h2 class="anchored" data-anchor-id="day-1-赛后">Day 1 赛后</h2>
<p>返程继续暴汗。从湘潭乘城铁至长沙。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/city-railway.jpg" class="img-fluid figure-img"></p>
<figcaption>高铁风格，地铁运营</figcaption>
</figure>
</div>
<p>队友来时已经踩好点了，拉着啥也不知道的我就往五一广场走……</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[75,25]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 75.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/plaza.jpg" class="img-fluid figure-img"></p>
<figcaption>五一广场</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/tea.jpg" class="img-fluid figure-img"></p>
<figcaption>到处都是的某神奇奶茶店</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>队友在前面慢悠悠地寻找吃饭的地方，看上去是准备边吃边坐挨到火车到点了。还想出去逛逛，于是暂时各奔东西。街边随便点了份牛杂面（超辣！）和臭豆腐（完全不臭），乘地铁二号线至橘子洲西岸，向岳麓山前进。然而功课未做充足，到达山门才发现索道已停，大巴收班。天色已晚，爬上去显然赶不上 11 点半的火车，只好悻悻而去。</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/mount-2.jpg" class="img-fluid figure-img"></p>
<figcaption>岳麓山门</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/mount-1.jpg" class="img-fluid figure-img"></p>
<figcaption>岳麓山麓</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>然而……</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/young.jpg" height="600" class="figure-img"></p>
<figcaption>年轻真好</figcaption>
</figure>
</div>
<p>于是从麓山路返回，上至橘子洲大桥。由此可直接步行至江心的橘子洲。</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/orange-1.jpg" class="img-fluid figure-img"></p>
<figcaption>橘子洲西望</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/orange-2.jpg" class="img-fluid figure-img"></p>
<figcaption>橘子洲东望</figcaption>
</figure>
</div>
</div>
</div>
</div>
<p>时间来到 10 点整。准备返程。地铁至五一广场，与队友汇合，前往长沙站。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230530-xiangtan/img/station.jpg" class="img-fluid figure-img"></p>
<figcaption>旅途的终点</figcaption>
</figure>
</div>
<p>疲惫，忘记买早饭就过安检了。候车大厅已无空位，站着闲聊了小会儿，时间到了。之前车上刷夜的豪言壮语早已抛之脑后，上车一躺——Day 1, end.</p>
<p>upd x1: 酒店登录过 Steam 的群友都被盗号了 <img src="https://latex.codecogs.com/png.latex?%5CSigma%20(%20%5Csupset%20%5Cmathrm%7BO%7D%20_%5Cfrown%20%5Cmathrm%7BO%7D%20)%20%5Csupset"></p>
<p>upd x2: 报销疑似仍然有戏，感谢学校感谢党 <img src="https://latex.codecogs.com/png.latex?%5CSigma%20(%20%5Csupset%20%5Cmathrm%7BO%7D%20_%5Csmile%20%5Cmathrm%7BO%7D%20)%20%5Csupset"></p>
</section>
<section id="补题" class="level2">
<h2 class="anchored" data-anchor-id="补题">补题</h2>
<p><a href="https://codeforces.com/gym/104396">GYM104396</a></p>
<section id="l" class="level3">
<h3 class="anchored" data-anchor-id="l">L</h3>
<p>需要注意的是，四分树 / K-D 树不存在时间复杂度优秀的区间修改。对于任意区间修改，树套树的实现是必要的。</p>
<p>L 其实有基于差分的非常容易的解法，见解法二。随机分划长度的类似 hash 的解法三也非常震撼。</p>


</section>
</section>

 ]]></description>
  <category>tour</category>
  <category>algorithm</category>
  <category>memories</category>
  <guid>https://blog.sun123zxy.top/posts/20230530-xiangtan/</guid>
  <pubDate>Tue, 30 May 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>国家博物馆兼东单良乡骑行一日游</title>
  <dc:creator>sun123zxy </dc:creator>
  <link>https://blog.sun123zxy.top/posts/20230306-national-museum-tour/</link>
  <description><![CDATA[ 




<p>“来北京，当然要逛逛啊！”嘴上这么说，充实的学习生活却总能带来无数个宅在宿舍的理由。恰逢本学期思政课需亿点社会实践，国家博物馆乃官方推荐之所，而东可游长安街、王府井，南可观东交民巷，完成任务而了却游园之心，岂不美哉？虽开学未几，春景未至，然天气渐暖，今日不去，更待何时？不妨早做打算。遂与室友相约，周日出游。</p>
<p>乘地铁至天安门东，一路罚站。当然毕竟是淡季，车上并不拥挤。惊奇地发现一号线已非昔日模样：站台已加装护栏，而列车的内饰也早已翻新。</p>
<p>例行排队安检，上至天安门广场东侧。国家博物馆就在眼前，隔天安门广场与人民大会堂遥相呼应。馆子很大，上上下下一共六层，尚分南北两区，一整天或许也很难逛完，故我们只选取少量展馆参观。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/col-museum-outside.jpg" class="img-fluid figure-img"></p>
<figcaption>博物馆外侧</figcaption>
</figure>
</div>
<p>展览当然是相当不错的，但具体说来却没啥好写。博物馆这种地方，始终还是得自己去看。常设的《复兴之路》展区是标准的《中国近现代史纲要》，最近也新开了新时代展区，但我们去的时候……空无一人……（逃）</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/museum-exhibits.jpg" class="img-fluid figure-img"></p>
<figcaption>神州十三号返回舱（左）；复兴之路“新时代”展厅（右）</figcaption>
</figure>
</div>
<p>总之，逛逛逛拍拍拍，出来已经一点半了。讨论一下，准备往东单走找地儿吃饭。走在东长安街的人行道上，公安部、生态环境部、<del>长安俱乐部</del>滚滚而来，赫赫有名的北京饭店也映入眼帘。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/beijing-hotel.jpg" class="img-fluid figure-img"></p>
<figcaption>挺敦实一栋楼</figcaption>
</figure>
</div>
<p>王府井的人气似乎已经恢复了八成。我们并无兴致逛街，草草填饱肚子，往南向东交民巷前进。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/wangfujing.jpg" class="img-fluid figure-img"></p>
<figcaption>王府井步行街</figcaption>
</figure>
</div>
<p>比起嘈杂的天安门广场，东交民巷可谓意外的宁静。从东侧进入东交民巷，街上行人三三两两，似乎都是本地居民。往东前进，法国邮政局、西班牙领事馆等欧式建筑在街边排列，但均未开放游览，亦无游客驻足。灰黑色的砖瓦在紧闭的大门后默默不语，枯树残影的映衬下略显凄凉。教堂倒是小有人气，时有新人在此拍摄婚纱。行至天安门广场前最后一个路口，有警卫把守，似乎已不得入内。查看地图，前面已是公安局地界。也许得从天安门广场方向步行进入才可进一步游览吧。（事后调查，不少使馆的入口其实在前门大街一侧，许多建筑也已商业运行，除外观保持原样外，已无太多历史可寻。）</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/church.jpg" class="img-fluid figure-img"></p>
<figcaption>东交民巷的教堂</figcaption>
</figure>
</div>
<p>室友突然提议骑回良乡——英雄所见略同啊（笑）。从学校骑至主城一直是我的计划之一，现在离天黑尚有三四小时光景，晚 7:00 之前骑回学校并无不可。已有一室友因事先行离开，另一位室友苦于舟车劳顿，计划地铁回程。于是和提议的室友开启了近 40km 的骑行之旅。</p>
<p>已在东交民巷南边，我们没有选择卢沟桥路线，而是往京良路方向前进。二环可不小，出了前门公园，在狭窄的胡同间穿行，不一会就有点小累了。室友事后表示他没意识到 40km 的严重性（</p>
<p>渐行至三、四环外。偶然拐离干道，驶入普通道路。路上房屋低矮，矮墙垛垛，货车辆辆，尘土飞扬，加之今日有霾，揉眼一看，好似来到某西部偏远地区的乡间小路上。偌大的北京城也有如此“土里土气”的地方……之前在房山线上看到的壮美秋景，似乎也不在本次路线之上。况且春天尚未到来，即使经过也别无二致吧。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/col-riding.jpg" class="img-fluid figure-img"></p>
<figcaption>胡同、“乡道”与分界处</figcaption>
</figure>
</div>
<p>至京良路。室友体力已下降不少，速度逐渐放缓。然而调高座椅、换用前脚掌蹬车的我似乎还能一战。<del>室友表示你个山区居民怎么这么能蹬，</del>虽然中途因未知原因迷路多绕出几公里的路程，最终还是在 7:00 之前赶回了学校。</p>
<p>买了面包和咖啡匆匆赶去参加组会，坐下的瞬间，突然感觉如断电般困倦……</p>



 ]]></description>
  <category>tour</category>
  <guid>https://blog.sun123zxy.top/posts/20230306-national-museum-tour/</guid>
  <pubDate>Mon, 06 Mar 2023 00:00:00 GMT</pubDate>
  <media:content url="https://blog.sun123zxy.top/posts/20230306-national-museum-tour/img/wangfujing.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>聊聊红石音乐</title>
  <dc:creator>sun123zxy </dc:creator>
  <link>https://blog.sun123zxy.top/posts/20230217-rmg/</link>
  <description><![CDATA[ 




<p>咕极必肝，肝极必咕。</p>
<p>本来是打算做完 Ancient Temple 和视频一起发出的，但现在看到这篇文章，说明下文随想里立下的 flag 已经被打脸了（</p>
<p>咕的原因，一方面是因为现实生活太过充实有趣，即使红乐般的激昂也有黯淡之时；但更重要的，还是对第二次迭代的表现效果不满意。模子是 Foxtail Grass Studio 的专辑封面和《妖妖剑戟梦想》的白玉楼阶梯，但始终没能做出想要的效果。更好的想法？暂时也没有。</p>
<p>半途而废很可惜，但糟蹋更可惜。或许暂时搁置、静待花开，会有更好的结果。</p>
<p>写下随想与技术细节，封存于冷清的博客，是纪念，还是重启的依托？</p>
<blockquote class="blockquote">
<p>东方的天空微微露出青白色的天光，幻想乡迎来了又一个清晨。</p>
<p>很快，太阳就会出现，将光芒洒满这片遗忘之地。</p>
<p>尽管，那片原野已然如幻梦般消失不见——</p>
<p>但，在看不见的隐秘角落，无数的原野正在悄然生长——</p>
<p>这里也是，那里也是</p>
<p>——如同小小的光芒。</p>
<p>——<a href="https://www.bilibili.com/read/cv11907285">东方莳梦原～Champaign of Unfinished Dreams</a> by 秋ノ宮飛鳥</p>
</blockquote>
<section id="一点随想" class="level2">
<h2 class="anchored" data-anchor-id="一点随想">一点随想</h2>
<p>2022 年 8 月 17 日夜，Ancient Temple 完成过半，月色入户，欣然开摆。</p>
<p>对，今天又是 8 月 17 日，是妖妖梦、风神录的发售日，<del>也是某个枪毙节</del>，还是某个新博客启用的周年纪念日——我又来写随想了。</p>
<p>18 年华灯宴 1U_s 大佬一曲<a href="https://b23.tv/FwrlLWL">十七岁</a>把我拉入红石音乐的大坑，到现在也有 4 年多了。随便聊聊感想，谈谈技术和非技术的各种话题。</p>
<p>我玩红乐，或许“科技靠考古的自闭造轮手”是个不错的形容。不加红石群、不更新版本，没人带没人陪，Google + Minecraft Wiki 在手，自己瞎倒腾，其他看造化。风格是 18 年的远古遗风——realpiano + 命令方块 + WorldEdit 的前进式、贪吃蛇式、下落式红石音乐大行其道的年头。到后来，特效红石音乐开始流行，但我心中的红乐早已定型。</p>
<p>我喜欢那个年代红石音乐特有的那种风格，那种朴素，但红石音乐完美融入场景的感觉。当年东方各作红石音乐全曲中就可见一斑——跟随红石信号一步步向前，如同听着 BGM 驾驶自机飞翔于道中，看版面缓缓向前伸展——STG 原作与 Minecraft 的奇妙融合让我着迷。我想做这样的红石音乐，我想做这样能化出心中幻想的红石音乐。</p>
<p>想做？音乐你懂吗？建筑你会吗？</p>
<p>不会，但可以学！</p>
<p>那你还会什么？</p>
<p>我是 OIer！我会编程！</p>
<p>这就是后来近三年红乐自动化尝试的开端。倒也开始稍微认真点的学习 MIDI、乐理以及其他各种各样的东西。</p>
<p>时间来到 20 年暑假。当时正好在玩 Python，偶然一搜，找到了 Raspberry Jam Mod 和 <a href="https://github.com/mido/mido">mido</a>——前者把 <a href="https://www.minecraft.net/en-us/edition/pi" class="uri">https://www.minecraft.net/en-us/edition/pi</a> 的 Python API 移植到 Java 版，后者提供在 Python 中处理 MIDI 文件的方法。</p>
<p>诶，这就不可以开工了吗！</p>
<p>肝能量发动，写了第一个能跑起来的脚本，随便丢了个正在做的第三版 Ancient Temple 进去听听——哎哟挺不错啊！</p>
<p>生产力工具上线，整活得以开始。要说最想做的，那一定是妖妖梦五面道中。对，就是 《东方妖妖梦 ~ Ancient Temple》。如 ZUN 所说，那是使古老寺院的空气突然升温的曲子。樱花上飘，楼观斩下……那是原作带来的难以忘怀的幻想。</p>
<p>但当时的我，没打算做，或者说有点不敢做。一方面，当然是 1U_s 大大的<a href="https://www.bilibili.com/video/BV1Gs411i7K9">妖妖梦红乐曲集</a>实在精彩，随手制作的五面道中已足以满足我自娱自乐的需求；二来也是对自己实力不太自信，怕做出自己也不太喜欢的作品。但 1U 的曲集毕竟是手工打造，两条音轨虽然意境极佳，但与原曲相比确也是捉襟见肘，而我手中的自动化可以极大程度地减轻工作量（虽然造轮子的过程没少花时间 (lll￢ω￢)）</p>
<p>所以到头来还是想做——或者下次一定？</p>
<p>那这次造啥呢？</p>
<p>余光瞄到刚退坑不久的 Dancing Line——说是舞线，其实脑子里全是 Through the Fog 的场景。回去重打 TTF 风暴的时候，听着 90% 后疯狂的雷声，突然想到 Minecraft 可以 <code>/weather rain</code> 可以 <code>/summon lightning_bolt</code>，加之场景想要偷懒的话搞个单层水世界就行，倒是试水的不错选择。</p>
<p>于是就开始试着扒谱。暑假结束，MIDI 是写好了，人却咕起来了。一咕就咕到了后一年的四月，忍不住了，爆肝三个周末整出来了。这个明显还是有很多问题的，首先曲子扒得就不太好，而且灯光一直到最后一小段才加上，另外前面下雨那段也太黑了。Sildur’s Vibrant Shader 的黑雷电问题也没解决，加上当时电脑太菜，Replaymod 录制还是挺难受的（不过预览模式倒是意外的贡献了个封面 XD），当然凑合能看。</p>
<p>后来就又到暑假了，打算一口气把 RMG 这个烂摊子写好，于是大刀阔斧的重构了，命名为 <a href="https://github.com/sun123zxy/redstone-music-generator">redstone-music-generator</a>，甚至还写了文档发了 Github，收获人生首 star &amp; issue（</p>
<p>或许是为了尝试 observer 的设计模式，亦或是太重视轮子的易用性，代码比较臃肿，过了几个月发现自己也很难看懂了。</p>
<p>其实写脚本主要还是给自己创作使用啊，没必要考虑太多“别人的需求”。</p>
<p>反思的结果就是新版的 redstone-music-generator 了，现暂存于原版本的 <code>develop</code> 分支下。这个版本再次重构，学习了某些命令行软件的做法，配置参数从之前在各个组件上的零散分布变为了单一配置文件的集中分布，显然提高了效率。</p>
<p>Ancient Temple 的 MIDI 也已经做到第五版了，这次以红乐的标准，大幅参考原曲 MIDI，期望能尽力还原出原作的表现。</p>
<p>鼓起勇气脱离咕海的动力来源，还是喜欢这曲子吧。说到底还是想把它做了再养老。</p>
<p>说起来，红石音乐到底应该怎样定义呢？之前 WorldEdit 的使用就已经引发过争议，那自动化搭建到底是红是黑？而在发声方面，是坚持音符盒的原教旨主义，还是命令方块的改良革新，甚至是更激进的 Midiout？</p>
<blockquote class="blockquote">
<p>up辛苦了，工作量能看出来。</p>
<p>但是原谅我还是很难接受这种从mc映射到外部midi播放器的格式。我觉得这并不能称作红石音乐，因为不是在mc内部完成播放的。</p>
<p>不过，用资源包和用接口，也不过只是内部调用和外部调用的区别罢了，也说不清…这是个哲学层次的问题。</p>
<p>红石音乐最后到底会变成什么样我也不知道，而且这种发展的方向和趋势我也没办法也没有理由去阻止。</p>
<p>我大概是，跟不上时代了吧…</p>
<p>——<a href="https://www.bilibili.com/video/BV1oW411a7eJ">【黑石音乐】aLIEz【接近完美的还原】_哔哩哔哩_bilibili</a> 下 <a href="https://space.bilibili.com/32262433">NJune六月</a> 的评论</p>
</blockquote>
<p>或许每个人心中的红乐标准都有所不同……或许我们只能求同存异，力求百花齐放，不要走火入魔。但最近粒子特效红石音乐的发展又让我感到困惑——一点红石、音符盒甚至命令方块都不出现，真的算红乐吗？那些炫酷的粒子特效，真的属于 Minecraft 吗？</p>
<p>只能交给时间回答了。我想，我能保证的，只是一颗全心投入、宁缺毋滥的创作心态；而我应该做的，是继续完成手头的作品。</p>
</section>
<section id="mc-指令相关" class="level2">
<h2 class="anchored" data-anchor-id="mc-指令相关">MC 指令相关</h2>
<section id="setblock-datavalue-block-state-and-data-tag-nbt" class="level3">
<h3 class="anchored" data-anchor-id="setblock-datavalue-block-state-and-data-tag-nbt">setblock, dataValue, block state and data tag (nbt)</h3>
<section id="扁平化前1.12-及以前" class="level4">
<h4 class="anchored" data-anchor-id="扁平化前1.12-及以前">扁平化前（1.12 及以前）</h4>
<p><code>setblock &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;block&gt; [dataValue|state] [oldBlockHandling] [dataTag]</code></p>
<p><code>dataValue</code> 和 <code>blockstate</code> 在扁平化之前是方块状态的两种不同描述方式，<code>dataValue</code> 是实际存储时使用的 4 bit 数据。通常，<code>blockstate</code> 或 <code>dataValue</code> 用来描述方块的一些基本性质，比如朝向 <code>facing</code>、羊毛的颜色 <code>color</code>、中继器的延迟刻数 <code>delay</code>。</p>
<p>具体写法例如：<code>/setblock ~ ~ ~1 minecraft:unpowered_repeater delay=4,facing=east</code> 设置一个延迟为 4 rt，面朝“东方”的红石中继器。（这里打上了引号，因为事实上<strong>红石中继器的 facing 代表的方向与信号传导的方向是相反的</strong>）</p>
<p>又，其效果等同于 <code>/setblock ~ ~ ~1 minecraft:unpowered_repeater 15</code>。（<code>dataValue = (delay - 1) * 4 + facing</code>，<code>facing=south|west|north|east</code> 分别对应 <code>0|1|2|3</code> 。默认值是 <code>north</code>）</p>
<p>再例如，<code>/setblock ~ ~ ~1 minecraft:command_block facing=down 0 {Command:"/time set 6000"}</code> 设置一个修改时间为正午的，面朝下方的命令方块。</p>
<p>中间的 <code>0</code> 是用来占位的。</p>
<p>查找某方块的 <code>dataValue</code> 和 <code>blockstate</code> 时可以翻阅 Minecraft Wiki 1.13 以前的历史版本（1.13 于 2018 年 6 月 18 日发布）</p>
</section>
<section id="扁平化后1.13-及以后" class="level4">
<h4 class="anchored" data-anchor-id="扁平化后1.13-及以后">扁平化后（1.13 及以后）</h4>
<p><code>setblock &lt;pos&gt; &lt;block&gt; [destroy|keep|replace]</code></p>
<p>其中 <code>&lt;block&gt;</code> 是 <code>block_state</code>， 具体的写法是 <code>namespaced_ID[block_states=value]{data_tags:value}</code></p>
<p>也就是说，原先的 <code>block</code>、<code>block_state</code> 和 <code>dataTag</code> 现在被统一整合入 <code>block_state</code> 里面，显然这更方便使用了。（然而作为考古学家，这好像也没法用上…）</p>
</section>
</section>
<section id="fallingsand-or-falling_block" class="level3">
<h3 class="anchored" data-anchor-id="fallingsand-or-falling_block">FallingSand or falling_block</h3>
<p>掉落方块实体。1.11 前它叫 <code>FallingSand</code>，1.11 及以后它叫 <code>falling_block</code>。</p>
<p>1.12 及以前可用 <code>/summon falling_block ~ ~ ~ {Block:minecraft:redstone_block,Time: 1}</code> 召唤掉落的红石块。Time 参数设置最长掉落时间，实际上会与 30 秒取最大值，但如果留空则会马上消失。</p>
<p>而 <code>/summon falling_block ~ ~ ~ {Block:"minecraft:wool", Data: 14, Time:1}</code> 可召唤掉落的红色羊毛。<code>Data</code> 标签自然与颜色对应了。</p>
<p>1.13 后由于扁平化更新了 <code>block_state</code> 的概念，指令格式变为 <code>/summon falling_block &lt;x&gt; &lt;y&gt; &lt;z&gt; {BlockState:{Name:&lt;Namespaced block ID&gt;,Properties:{&lt;blockstate_name&gt;:&lt;value&gt;}}}</code>。</p>
<p>参见：</p>
<ul>
<li><p><a href="https://minecraft.fandom.com/wiki/Falling_Block">Falling Block – Minecraft Wiki</a></p></li>
<li><p><a href="https://minecraft.fandom.com/wiki/Tutorials/Falling_blocks">Tutorials/Falling blocks – Minecraft Wiki</a></p></li>
<li><p><a href="https://minecraft.fandom.com/wiki/Tutorials/Command_NBT_tags#Entities">Tutorials/Command NBT tags – Minecraft Wiki</a></p></li>
</ul>
</section>
<section id="解决指令引号嵌套无法识别问题" class="level3">
<h3 class="anchored" data-anchor-id="解决指令引号嵌套无法识别问题">解决指令引号嵌套无法识别问题</h3>
<p>见 <a href="https://gaming.stackexchange.com/questions/246064/why-are-my-quotation-marks-causing-an-unexpected-token-error-with-this-command">minecraft java edition - Why are my quotation marks causing an “unexpected token” error with this command? - Arqade</a>，用 <code>\</code> 转义即可。</p>
</section>
</section>
<section id="mod资源包" class="level2">
<h2 class="anchored" data-anchor-id="mod资源包">mod、资源包</h2>
<p>注意此处提到的 mod 和资源包均只在其 1.12.2 对应版本下测试，不少功能在新版已经不需要 mod 了。</p>
<section id="worldedit" class="level3">
<h3 class="anchored" data-anchor-id="worldedit">WorldEdit</h3>
<p>建筑党老相识了，不细讲了，Google 一下你就知道。</p>
<ul>
<li><a href="https://worldedit.enginehub.org/en/latest/">WorldEdit Documentation</a></li>
</ul>
<p>用的多的命令 <code>copy</code>、<code>flip</code>、<code>rotate</code>、<code>paste</code>、<code>stack</code>、<code>set</code>、<code>replace</code>。当然还有最要命的 <code>undo</code> 啦（</p>
<p><code>schematic</code> 系列指令也很好用（用来偷建筑）（逃）</p>
</section>
<section id="voxelmap" class="level3">
<h3 class="anchored" data-anchor-id="voxelmap">VoxelMap</h3>
<p>常见的小地图，用来传送挺方便的。也不细讲了。</p>
</section>
<section id="tickratechanger" class="level3">
<h3 class="anchored" data-anchor-id="tickratechanger">TickrateChanger</h3>
<p><a href="https://www.curseforge.com/minecraft/mc-mods/tickratechanger">TickrateChanger - Mods - Minecraft - CurseForge</a></p>
<p>tickrate changer，就是字面意思嘛。改 tickrate 可以使游戏变快或变慢，从而实现精确调节 BPM。正常值 20。</p>
<p>但是有个挺烦的问题是调了过后声音的频率也随之改变了，这样音高就发生变化了…有大佬知道怎么办吗？</p>
</section>
<section id="colored-redstone" class="level3">
<h3 class="anchored" data-anchor-id="colored-redstone">Colored Redstone</h3>
<p><a href="https://www.curseforge.com/minecraft/mc-mods/colored-redstone">Colored Redstone - Mods - Minecraft - CurseForge</a></p>
<p>材质包编辑红石颜色失败后的替代品。具体细节有点忘了，只记得生成时 namespace 好像是 <code>coloredredstone:colored_redstone_block</code>，用 datavalue 来调颜色。（也忘了自己是怎么知道的了……好像是拆 jar 看的？）</p>
<p>顺序大概是这样：</p>
<p><img src="https://blog.sun123zxy.top/posts/20230217-rmg/colorful-redstone.jpg" class="img-fluid"></p>
</section>
<section id="invisiblights" class="level3">
<h3 class="anchored" data-anchor-id="invisiblights">InvisibLights</h3>
<p><a href="https://www.curseforge.com/minecraft/mc-mods/invisiblights">InvisibLights - Mods - Minecraft - CurseForge</a></p>
<p>材质包编辑发光材质失败后的替代品。字面义，作为隐形光源使用。</p>
</section>
<section id="realpiano-资源包" class="level3">
<h3 class="anchored" data-anchor-id="realpiano-资源包">realpiano 资源包</h3>
<p><a href="http://lkrb.net/blog/54.html">原出处</a>已挂，有个<a href="https://www.cr173.com/soft/277354.html">下载站</a>还有资源。</p>
<p>发声命令 <code>/execute @p ~ ~ ~ playsound lkrb.piano.p60fff voice @p ~ ~ ~"</code>，<code>C5 = 60</code>，音高 21 至 108，力度可选 <code>ppp,pp,p,mp,mf,f,ff,fff</code>。</p>
</section>
<section id="soma-资源包" class="level3">
<h3 class="anchored" data-anchor-id="soma-资源包">soma 资源包</h3>
<p>这个老强了，按 MIDI 音源标准制作的全套音色，长短音都有。</p>
<p>因为没怎么用就不细讲了。</p>
</section>
<section id="材质包编辑" class="level3">
<h3 class="anchored" data-anchor-id="材质包编辑">材质包编辑</h3>
<p>一开始是因为 SEUS v11.0 太黑看不清红石块，想找个方法让红石块自发光 。找了半天没找到的现成的，只好现学现做。</p>
<p>关于如何获取作为参考的 Default 材质包，参考 <a href="https://www.reddit.com/r/Minecraft/comments/47sycp/where_can_i_find_the_default_texture_pack_to_edit/">Where can I find the default texture pack to edit? : Minecraft</a>，直接把 <code>1.12.2.jar</code> 解压后里面的 <code>assets</code> 文件夹提到资源包里就可以用了，意外的方便啊（</p>
<p>（其实 mod 的 jar 里面也有这个文件夹！）</p>
<p>参考 <a href="https://optifine.readthedocs.io/emissive_textures.html">Emissive Textures - OptiFine documentation</a>，只需在材质包放置 <code>/assets/minecraft/optifine/emissive.properties</code> 和 <code>/assets/minecraft/textures/blocks/redstone_block_e.png</code>，<code>emissive.properties</code> 里写上 <code>suffix.emissive=_e</code> 就可以了。</p>
<p>1.12 差不多也算是古董版本了，参考网上教程时还需注意版本差异。</p>
<p>于是兴高采烈的准备用到掉落式红石钢琴上，发现——欸？光呢？？？</p>
<p>于是发现了 <a href="https://github.com/sp614x/optifine/issues/1342">Emissive textures not working for certain entities and items · Issue #1342 · sp614x/optifine · GitHub</a>——woc，这不是 xwj 大佬吗？？？</p>
<p>所以人家 18 年就把这些东西玩透了……<del>只有红石音乐作者才能发现的 bug</del></p>
<p>这个 Issue 至今 open，一下不知道怎么办了…只能暂时搁置。后来使用上文提到的 Colored Redstone 和 invisiblights 解决问题。</p>
<p>此外，发现同一地点方块贴图始终一致，这说明随机种子由位置决定。但作为 Falling_block 生成时，全都只会用第一个贴图。</p>
</section>
</section>
<section id="mcpi-和-raspberryjammod-相关" class="level2">
<h2 class="anchored" data-anchor-id="mcpi-和-raspberryjammod-相关">MCPI 和 RaspberryJamMod 相关</h2>
<p>RaspberryJamMod：把 <a href="https://www.minecraft.net/en-us/edition/pi">Minecraft: Pi Edition</a> 的 Python API 移植到 Java 版的一款 mod。</p>
<ul>
<li>Github 库：<a href="https://github.com/arpruss/raspberryjammod">GitHub - arpruss/raspberryjammod: Raspberry Jam Mod - a Mod Forge Minecraft mod implementing most of Raspberry Juice/Pi API</a></li>
<li>官方指南：<a href="https://www.instructables.com/Python-coding-for-Minecraft/">Python Coding for Minecraft : 18 Steps (with Pictures) - Instructables</a></li>
<li>Minecraft: Pi Edition 的 API：<a href="https://www.stuffaboutcode.com/p/minecraft-api-reference.html">Minecraft: Pi Edition API</a></li>
</ul>
<section id="mcpi-block-类在-setblock-setblockwithnbt-中的使用" class="level3">
<h3 class="anchored" data-anchor-id="mcpi-block-类在-setblock-setblockwithnbt-中的使用">MCPI Block 类在 setBlock &amp; setBlockWithNBT 中的使用</h3>
<p><code>Block</code> 类被封装成了包含三个元素 <code>id:int</code>, <code>data:int</code>, <code>nbt:str</code> 的“数组”，在 <code>setBlock</code> 和 <code>setBlockWithNBT</code> 中直接使用 <code>Block</code> 类会被 <code>flatten()</code> 或 <code>floorFlatten()</code> 函数“拍扁”成分散的参数。一个 <code>Block</code> 对象只可能被拍扁成 <code>data, id</code> 或 <code>id, data, nbt</code>，取决于该对象是否设置了 <code>nbt</code> （用 <code>None</code> 判断）。</p>
<p>因此，需要自定义 <code>data</code> 时，不能使用 <code>block</code> 模块的预设方块。</p>
<p><code>Vec3</code> 类也可被拍扁。</p>
<p>例如：</p>
<ul>
<li><code>setBlock(Vec3(0,0,0), 137, 2)</code> 等同于 <code>mc.setBlock(Vec3(0,0,0), Block(137, 2))</code></li>
<li><code>setBlockWithNBT(Vec3(0,0,0), 137, 2, '{Command:"your command"}')</code> 等同于 <code>setBlockWithNBT(Vec3(0,0,0), Block(137, 2), '{Command:"your command"}')</code> 等同于 <code>setBlockWithNBT(Vec3(0,0,0), Block(137, 2, '{Command:"your command"}'))</code></li>
</ul>
<p>需要注意的是， <code>setBlock()</code> 不能接受 <code>nbt</code> 参数或带 <code>nbt</code> 的 <code>Block</code> 对象，否则会报错。而 <code>setBlockWithNBT()</code> 则有无 <code>nbt</code> 皆可。</p>
</section>
<section id="关于-mcpi-与游戏内的坐标差" class="level3">
<h3 class="anchored" data-anchor-id="关于-mcpi-与游戏内的坐标差">关于 MCPI 与游戏内的坐标差</h3>
<p>见 <a href="https://stackoverflow.com/questions/70747581/python-minecraft-coordinates-trouble">Python + Minecraft Coordinates Trouble - Stack Overflow</a>：</p>
<blockquote class="blockquote">
<p>getPos, getTilePos, setPos and setTilePos all appear to be relative to the player’s spawn point at least in a single player world. I am going through trying to teleport my character but the coordinates I end up on are not the world’s coordinates but a coordinate relative to where my character would spawn.</p>
</blockquote>
<blockquote class="blockquote">
<p>So, either fix an offset of 66 blocks into the y-axis values, or manually set the world spawn to <code>(0, 0, 0)</code> with <code>/setworldspawn</code>.</p>
</blockquote>
</section>
</section>
<section id="自制轮子" class="level2">
<h2 class="anchored" data-anchor-id="自制轮子">自制轮子</h2>
<section id="redstone-music-generator旧版" class="level3">
<h3 class="anchored" data-anchor-id="redstone-music-generator旧版">redstone-music-generator（旧版）</h3>
<p>（这是重构旧版前再次阅读代码后的小报告）</p>
<p>大概使用了 observer 的设计模式，写了类似 C# 中的 Event，Delegate 暂时还没有封装，稍微有点混乱。</p>
<p>自己写了一些工具类，然后弄了个 <code>MIDIHandler</code> 预处理 MIDI 文件。</p>
<p>整个生成在最上层由 <code>RMG</code> 类管，<code>RMG</code> 读取 <code>MIDIHandler</code> 的信息然后触发绑定在 <code>RMG</code> 上的各种 <code>onNote()</code>、<code>onBeat()</code> 函数（触发过程由封装的 <code>Event</code> 类实现）。通过设置 <code>RMG</code> 的成员变量可以设置例如要生成的音轨、起始终止拍等参数。</p>
<p>然后各种插件都丢在了 <code>observer.py</code> 里。这些插件接受各种需要的信息（当前音符编号、音高等），一些是用于生成 <code>Vec3</code> 或 <code>Block</code> 的 <code>XXXPosGen</code> 和 <code>XXXBlockGen</code>（还没有给他们写基类，主要是现在还没封装 Delegate），另一些是包含 <code>onNote()</code>、<code>onBeat()</code>，用来绑在 <code>RMG</code> 上的插件。（注意绑在 <code>RMG</code> 上的是函数而不是插件本身！）每个插件都有自己的参数，插件之间也可以相互嵌套（例如 <code>GroundedAdvancing</code> 里面就套了个 <code>SingleBlock</code>）。插件存在的目的是为各个输出函数 <code>onNote()</code>、<code>onBeat()</code> 统一设置参数。（这里是否可以再改的函数式编程一点？）</p>
<p>现在有一个问题就是 PosGen 和 BlockGen 分开了，有 Issue 提到想要自定义每个 Note 下放的 partBlock，像这样搞就很麻烦。</p>
<p>应该有一个把 PosGen 和 BlockGen 合起来的方案，最好是能独立表示多个方块及其位置信息的一个整体。</p>
</section>
<section id="redstone-music-generator新版" class="level3">
<h3 class="anchored" data-anchor-id="redstone-music-generator新版">redstone-music-generator（新版）</h3>
<p>TODO（咕咕咕）</p>
<p>temp: <code>/execute @p ~ ~ ~ playsound block.note.guitar voice @p ~ ~ ~</code></p>


</section>
</section>

 ]]></description>
  <category>memories</category>
  <category>Minecraft</category>
  <category>music</category>
  <category>Python</category>
  <guid>https://blog.sun123zxy.top/posts/20230217-rmg/</guid>
  <pubDate>Fri, 17 Feb 2023 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Jekyll 2 Quarto: Academic Writing’s not All About PDF</title>
  <dc:creator>sun123zxy </dc:creator>
  <link>https://blog.sun123zxy.top/posts/20221226-quarto-fantasia/</link>
  <description><![CDATA[ 




<section id="旅程继续" class="level2">
<h2 class="anchored" data-anchor-id="旅程继续">旅程继续</h2>
<p><a href="../../posts/20210817-aboutblog">上回说到</a>，sun123zxy 同学完成了手撸 Jekyll 的伟大壮举，然后悠哉游哉地度过了他的高三生活。现在，静态博客的大厦已经基本落成，剩下的只是一些装修工作。然而，几朵不大不小的乌云却总让他感到不安。</p>
<p>sun123zxy 曾写过一篇相对严谨的学习笔记<a href="../../posts/20200321-burnside">等价类计数：Burnside引理 &amp; Polya定理</a>，还有一篇关于行列式与生成树计数的笔记尚未发布。这些笔记里包含大量章节标号、定理与交叉引用。关于交叉引用，原生 Markdown 只支持在链接处以 section 的标题作为标签完成引用，显然对中文文档不大友好。不少人选择使用内嵌 HTML 解决问题，但死脑筋的 sun123zxy 认为这种方式背离了 Markdown 简化格式的初衷。后来他发现，<a href="https://michelf.ca/projects/php-markdown/extra/">PHP Markdown Extra</a> 格式的 Special Attributes 能解决部分交叉引用的问题，更惊喜的是 Pandoc 竟然兼容这种语法（当时 sun123zxy 对 Pandoc 还没有做深入了解，只局限于使用 jekyll-pandoc 渲染而已）。至于处理章节标号，只需对已经写好的目录系统脚本做一点改动即可，而且当时 sun123zxy 也并没有那么多篇严谨的学术向写作。总之，问题暂时得到解决。</p>
<p>另一朵乌云来自 LaTeX。众所周知，Markdown 的内嵌数学公式是 LaTeX Math Mode 的某个子集。sun123zxy 发现，自己在 LaTeX 上的不求甚解开始给他带来各种麻烦。比如，他无法解释为什么只有 <code>aligned</code> 环境能被正确渲染，而不少教程中提到的 <code>align*</code> 和支持标号的 <code>align</code> 却总是报错；再比如，由于使用了重视速度的 <a href="https://katex.org/">KaTeX</a> 而不是更加完备的 <a href="https://www.mathjax.org/">MathJax</a> 作为渲染引擎，他发现自己无法使用诸如 <code>\newcommand</code>、<code>\DeclareMathOperator</code> 的宏定义。而且，一些教程中提到的 <code>physics</code> 等需要自行导入的“宏包”也让他摸不着头脑。</p>
<p>最重要的是，sun123zxy 开启了他的大学生活，论文写作的需求使他产生了系统学习 LaTeX 的想法。他在网协大牛那里听说了 <a href="https://www.overleaf.com/">Overleaf</a>，并在间歇性热情驱使下疯狂啃食文档，最终写出了自己的文档类，覆盖常见中文社科、科技向论文写作需求。验之以文，效果拔群。学习过程中，sun123zxy 习得众多排版常识，掌握了各种 font family 的区别、衬线字体的使用情景、英文 dash 的分辨方式等技巧，姿势水平得到质的飞跃。</p>
<p>sun123zxy 发现自己有点沉迷 LaTeX 了。他在写集合论大作业时学习了 <code>amsthm</code> 宏包，现已完全抵挡不住“定理 2.3”、“推论 4.1.1”、“例题 3.2”、“图 3”、“表 1”自动标号和交叉引用的诱惑。曾经博客使用的加强版 Markdown 在完备的 LaTeX 面前不值一提。他突然感觉有点害怕，毕竟 PDF 格式的网络发布效果并不理想。他需要找到一种能兼取两种格式长处的解决方案，否则他的博客将成为历史的眼泪。</p>
<p>然而在这里他遇到了瓶颈。尽管已经有一系列形如 LaTeX2HTML 的项目存在，但因为 TeX/LaTeX 是为 PDF 等页面固定的展现方式而设计，在转换成尺寸动态变化的网页（HTML）时必然面临信息损失。<a href="https://yihui.org/en/2013/10/markdown-or-latex/">Markdown or LaTeX? - Yihui Xie | 谢益辉</a> 这篇文章详细的讨论了 Markdown 和 LaTeX 间不可调和的冲突。更好的思路是，利用轻巧且可读性优秀的 Markdown 作为写作语言直接输出 HTML，需要 PDF 时再使用其它程序处理得到 LaTeX 代码。<a href="https://ctan.org/pkg/markdown">markdown 宏包</a>就解决了这样的问题。</p>
<blockquote class="blockquote">
<p>「你喜爱的 Markdown 写作，现更以 LaTeX 呈现。」</p>
<p>——<a href="https://liam.page/2020/03/30/writing-manuscript-in-Markdown-and-typesetting-with-LaTeX/">以 Markdown 撰写文稿，以 LaTeX 排版 | 始终</a></p>
</blockquote>
<p>markdown 宏包提供的 hybrid 功能还提供了将 LaTeX 命令混入 Markdown 的功能，完美覆盖了上述使用情景。然而，Markdown 自身在学术写作方面的固有缺陷——难以交叉引用、无法自动编号、没有定理系统——仍然让 HTML 输出举步维艰。问题在这里似乎陷入了死结：既想要 Markdown 的可读性和 HTML 输出，又想要 LaTeX 的定理系统和 PDF 输出——这可能吗？</p>
<p>sun123zxy 询问了不少同时掌握 Markdown 和 LaTeX 的大佬，他们都没有研究过这样的问题。唯一的希望是：找到一种合适的方式扩展 Markdown 的语法。sun123zxy 想起了 <a href="https://pandoc.org/">Pandoc</a>——文档转换界的瑞士军刀。事实证明 Pandoc 确实对得起这个称呼。他离解决方案已经非常近了：<a href="https://pandoc.org/MANUAL.html#pandocs-markdown">Pandoc’s Markdown</a> 已经非常强大，强大到可以随意内嵌 LaTeX 代码（当然只对 LaTeX 输出有效），交叉引用几乎任何内容，甚至可以用 Markdown 风格的 fenced syntax 控制 HTML 中的 <code>div</code>、<code>span</code> 及其参数！再加上 <a href="https://github.com/tomduck/pandoc-xnos">pandoc-xnos</a> 插件提供的自动标号功能，问题几乎得到全部解决——而现在看来，定理系统也可以通过编写 Pandoc filter 实现。</p>
<p>当然，sun123zxy 是个懒人，在能搜到解决方案的情况下，他不会干重复造轮子的傻事。某日，sun123zxy 又开始他了的头脑风暴。通过 Google 新的关键字 <code>markdown</code>、<code>cross-reference</code>、<code>academic writing</code>，他发现了 <a href="https://rmarkdown.rstudio.com/">R Markdown</a>，进而发现了 <a href="https://quarto.org/">Quarto</a>。</p>
<blockquote class="blockquote">
<p>Quarto is an open-source scientific and technical publishing system built on Pandoc.</p>
<ul>
<li>Create dynamic content with Python, R, Julia, and Observable.</li>
<li>Author documents as plain text markdown or Jupyter notebooks.</li>
<li>Publish high-quality articles, reports, presentations, websites, blogs, and books in HTML, PDF, MS Word, ePub, and more.</li>
<li>Author with scientific markdown, including equations, citations, crossrefs, figure panels, callouts, advanced layout, and more.</li>
</ul>
<p>——几乎让我一下子跳起来的 Overview</p>
</blockquote>
<p>Quarto 是构建在 Pandoc 上的文档发布系统，对 Pandoc’s Markdown 做了进一步扩展以适应学术写作，其中就包含了 pandoc-xnos 的语法和——用 Pandoc’s Markdown 的 fenced syntax 实现的定理系统！此外，Quarto 甚至还支持 Jupyter Notebook 的动态计算，附上 Matplotlib 代码就可动态生成统计图表——而且同样也可以被交叉引用！更让人欣喜的是，除了直接输出 HTML 和 PDF/LaTeX，Quarto 还提供了类似 Jekyll 的生成静态网站的功能！</p>
<p>于是，长达数月的探索终于落下帷幕，语法学习、环境配置与博客迁移被提上日程。又是近一个月的辛勤劳动，sun123zxy 终于完成了写作流程的构建和博客的搭建工作。盯着桌前已经冷透了的保温杯，他陷入了沉思……</p>
</section>
<section id="主要成果" class="level2">
<h2 class="anchored" data-anchor-id="主要成果">主要成果</h2>
<ul>
<li>基于 Quarto 的 <a href="https://github.com/sun123zxy/sunquartex">SunQuarTeX</a> 多格式中文学术写作出版流程，内含适用于常见中文论文写作的 LaTeX 文档类及其示例文档。</li>
<li>Quarto 驱动的适应学术写作要求的<a href="https://blog.sun123zxy.top">新版博客</a>（<a href="https://github.com/sun123zxy/blog-quarto-code">sun123zxy/blog-quarto-code</a>）。</li>
</ul>
<p>上一个 Jekyll 博客，一砖一瓦都是自己搭出来的，有感情了（笑）。所以也没下线，放在 <a href="https://blog-jekyll.sun123zxy.top">blog-jekyll.sun123zxy.top</a> 上了。如果你也和我一样怀旧，可以去看看~</p>
<p>那么，依照惯例，聊聊学习与折腾中的一点心得体会。</p>
</section>
<section id="关于-latex" class="level2">
<h2 class="anchored" data-anchor-id="关于-latex">关于 LaTeX</h2>
<p>很多人说 LaTeX 不好学——的确。即使是 OIer 群体，对 LaTeX 的认知也大多停留在数学公式水平。然而比起客观的困难，更应该问的问题是——Why LaTeX? 不同人的答案或许有所不同，但应有以下几点：</p>
<ul>
<li>有学术写作或打印文档的需求（否则可直接使用 Markdown/HTML）</li>
<li>认同内容与样式分离的设计思想，希望对文档排版有清晰的控制，而不是所见即所得的富文本格式导致的混乱。</li>
<li>希望用相对不易损坏且可读性较高的代码式文档替代 <code>.docx</code> 式的黑箱存储。</li>
<li>需要使用章节标号、定理系统等交叉引用功能。</li>
<li>想用简洁的代码生成严谨美观的数学公式。</li>
<li><del>就是感觉 LaTeX 排出来的东西很牛逼</del></li>
</ul>
<p>学习 LaTeX 需要了解它的历史，理解它的开发理念，理清 TeX/LaTeX 的历史进程，弄清 pdfLaTeX、XeLaTeX、LuaLaTeX 各自的特点，在 MikeTeX、TeXLive 两个发行版中做出选择，学习 BibTeX 引用管理格式，还有对排版知识的初步了解——知识体系可谓庞大。此外，不少 LaTeX 教学文档、各种宏包的手册本身就是由 LaTeX 生成的，这意味它们都是 PDF 格式，无法在互联网上得到很好的传播。但请不要忘记，它们是学习 LaTeX 的第一手资料。例如，<a href="https://www.ctan.org/">CTAN</a> 上的手册是学习各类宏包的第一途径，<a href="https://www.latex-project.org/help/documentation/">LaTeX 官网</a>也提供了不少相对系统的 PDF 教程。当然，近年来网页渲染工具 <a href="https://www.overleaf.com/">Overleaf</a> 的出现降低了环境配置的难度，<a href="https://www.overleaf.com/learn">Overleaf 的 LaTeX 教学文档</a>也非常优秀。我还强烈推荐 <a href="https://liam.page/2014/09/08/latex-introduction/">一份其实很短的 LaTeX 入门文档 | 始终</a> 这篇文章作为入门，作者是一位参与维护 CTeX 宏集的大佬，之前提到的 markdown 宏包他也写过一篇详细的介绍，详见上文引用中的链接。</p>
<p>在互联网上碎片化的学习 LaTeX，一定要经常问自己——这功能是哪个宏包定义的？例如，关于交叉引用，<code>\label</code>、<code>\ref</code>、<code>\pageref</code> 均为原生自带，<code>\eqref</code> 是 <code>amsmath</code> 宏包定义的，而 <code>\autoref</code> <code>\href</code> <code>\url</code> 均为 <code>hyperref</code> 宏包的命令，引入 <code>hyperref</code> 的目的主要是让文章里的交叉引用都变成 PDF 里可点击跳转的超链接；再例如，定理系统是 LaTeX 原生支持的，但 <code>amsthm</code> 提供了无标号版本的定理、设置 <code>\theoremstyle</code> 的方式和自动添加 QED symbol 的 <code>proof</code> 环境。再次强调，不要错过宏包的 PDF 手册！阅读手册是整合碎片知识、查漏补缺的最佳途径。</p>
</section>
<section id="关于-ctex" class="level2">
<h2 class="anchored" data-anchor-id="关于-ctex">关于 CTeX</h2>
<p>此外，有必要对中文排版基础宏包 <a href="https://ctan.org/pkg/ctex">CTeX</a> 做进一步说明。</p>
<blockquote class="blockquote">
<p>最初，Knuth 在设计开发 TeX 的时候没有考虑到多国文字支持，特别是对多字节的中日韩表意文字的支持。这使得 TeX 以至后来的 LaTeX 对中文的支持一直不是很好。即使在 CJK 宏包解决了中文字符处理的问题以后，中文用户使用 LaTeX 仍然要面对许多困难。这些困难里，以章节标题的中文化为最。由于中文和西文书写习惯的差异，用户很难使用标准文档类中的代码结构来表达中文标题。于是，用户不得不对标准文档类做较大的修改。除此之外，日期格式、首行缩进、中文字号和字距等细节问题，也需要精细的调校。我们设计 CTeX 宏集的目的之一就是解决这些 LaTeX 文档的汉化难题。</p>
<p>另一方面，随着 TeX 引擎和 LaTeX 宏包的不断发展，LaTeX 的中文支持方式从早期的专用系统（如 CCT）发展为适用于不同引擎的多种方式。这些方式的适用情况和使用方式有不少细节上的差异，同时操作系统的不同、语言环境的不同等客观情况又进一步带来了更多的细节差异。我们设计 CTeX 宏集的另一个主要目的就是尽可能消除这些差异带来的影响，使用户能够以一个统一的接口来使用不同的中文支持方式，使得同一份文档能够在不同环境下交换使用。</p>
<p>——CTeX 宏集手册 - 第 1 节：介绍</p>
</blockquote>
<p>CTeX 的基础使用，我仍然推荐上面始终的入门文档。<a href="https://zhuanlan.zhihu.com/p/538459335">LaTeX 中文字体配置基础指南 - 知乎</a>对我的帮助也很大。如果打算进一步自定义样式建立自己的文档类，还得沉下心来研读手册。</p>
</section>
<section id="关于-pandoc" class="level2">
<h2 class="anchored" data-anchor-id="关于-pandoc">关于 Pandoc</h2>
<p>Pandoc 其实一直致力于扩展 Markdown 的语法使其适合学术写作。<a href="https://www.youtube.com/watch?v=T9uZJFO54iM">TUG 2020 — John MacFarlane — Pandoc for TeXnicians</a> 的演讲几乎涵盖了所有值得关心的问题。</p>
<p>我认为 Pandoc 已有能力成为下一代学术写作的终极解决方案。语法上，Markdown 简洁易读，语法天然与格式解耦（反例是 LaTeX），而 Pandoc’s Markdown 是 Markdown 方言的集大成者，交叉引用、文献引用、图表等 Markdown 原生痛点都有很好的支持，fenced syntax 甚至可以视为 LaTeX environment 的平替；技术上，Pandoc 已经是非常成熟的格式转换工具，而 Pandoc filter 好比 LaTeX 中的 documentclass 和 style 文件，事实上实现了 Markdown 中的“宏定义”。如社区进一步发展，大部分常用 filter 能像在 LaTeX 中引用 documentclass 一样轻松获取，我们就能真正告别格式的困扰，拥抱 Pandoc’s Markdown 治下的多格式学术写作。</p>
<p>从这角度来看，Quarto 似乎更像是 Jupyter、Jekyll 和一堆 Pandoc filter 的混合物（笑）</p>
</section>
<section id="关于-quarto" class="level2">
<h2 class="anchored" data-anchor-id="关于-quarto">关于 Quarto</h2>
<p>Quarto 首个 Release 距今不到 2 年，是相当年轻的项目。开发 Quarto 的团队之前主要维护 R Markdown，Quarto 是他们跳出 R 语言生态圈，将成果扩展至更广阔生态圈（如 Python）的尝试，这也意味着项目尚存不尽人意之处。把它调理成满意的模样，还真得花不少功夫。<del>甚至让笔者开了人生首个正经 issue</del></p>
<section id="sunquartex" class="level3">
<h3 class="anchored" data-anchor-id="sunquartex">SunQuarTeX</h3>
<p>使用 Quarto，我主要有两大需求——论文多格式输出和静态博客生成。两个需求相对独立，因此有必要将离线论文输出的功能单独抽象出来。折腾的结果就是 <a href="https://github.com/sun123zxy/sunquartex">SunQuarTeX</a>。Quarto 原生的 HTML 输出还不错，自带目录高亮还有引用提示，稍微改改就能用了。关于自定义，Quarto 使用 SCSS 作为 CSS 生成器，意味着可以直接通过修改变量或 <code>@extend</code> 完成大部分工作。参考以下文档：</p>
<ul>
<li><a href="https://quarto.org/docs/output-formats/html-themes.html">Quarto - HTML Theming</a></li>
<li><a href="https://quarto.org/docs/output-formats/html-themes-more.html">Quarto - More About Quarto Themes</a></li>
<li><code>quarto-cli</code> 下的 <code>/src/resources/formats/html/bootstrap/</code>：内有 Quarto 的 SCSS 定义，目录下还有各种官方主题的 SCSS 文件，可作参照。Tip: 善用 Github 搜索功能！</li>
</ul>
<p>我这边的修改主要是把定理做成了 callout 的样式，另外给 proof 尾部加了 QED symbol。</p>
<p>难绷的是 PDF，直接生成效果可谓一言难尽……还好，与 Pandoc 相似，Quarto 提供了设置 <code>template</code> 的功能，可使用稍加改动的 LaTeX 文件作为生成模板，从而完全控制文章 LaTeX 的生成方式，进而控制 PDF 输出的样式。可参考以下文档食用：</p>
<ul>
<li><a href="https://github.com/quarto-dev/quarto-cli/discussions/2543">complex thesis with quarto · Discussion #2543 · quarto-dev/quarto-cli · GitHub</a></li>
<li><a href="https://quarto.org/docs/journals/templates.html#templates">Quarto - Article Templates</a></li>
</ul>
<p>当然，这得在已有成熟 LaTeX 模板的前提下才能进行，所以还是得会 LaTeX（笑）。使用过程中笔者也发现生成的 LaTeX 的某些细节不太合理（如 <a href="https://github.com/quarto-dev/quarto-cli/issues/3736">Issue #3736</a>，详见 SunQuarTeX 仓库 README），当然也无伤大雅，且等开发团队慢慢完善吧。</p>
</section>
<section id="blog" class="level3">
<h3 class="anchored" data-anchor-id="blog">Blog</h3>
<p>有了前面的基础，再搭博客也就容易了。以笔者一贯的风格，博客样式都是要操刀大改的（上一个甚至直接从零手撸了 XD），这次工作却意外的少。一方面考虑到毕竟不在 CS 专业，写那么多祖传代码之后维护也是麻烦事；另一方面嘛……</p>
<blockquote class="blockquote">
<p>这，谁写的这 <code>darkly</code> 这主题，绿不拉几的</p>
<p>看一眼</p>
<p><code>#00bc8c</code>，啊这样</p>
<p>草</p>
<p>这样啊这样</p>
<p>加个背景</p>
<p>……</p>
<p>？</p>
<p>？？？</p>
<p>好像还挺配的？</p>
<p>——来自考试周还在摸鱼的 sun123zxy 的惊叹</p>
</blockquote>
<p>light mode 的 <code>flatly</code> 也还不错，直接丢上去没改了。唯一的缺憾是 <a href="https://github.com/quarto-dev/quarto-cli/issues/3705">Issue #3705</a>，按开发组成员的回复来看，短期内 light mode 和 dark mode 的相互分离还不能实现。</p>
<p>此外，关于代码高亮的自定义方式，可参考以下要点：</p>
<ul>
<li><a href="https://quarto.org/docs/output-formats/html-code.html#highlighting">Quarto - HTML Code Blocks # Highlighting</a></li>
<li><code>quarto-cli</code> 下的 <code>/src/resources/pandoc/highlight-styles/</code>：内有官方样式文件，可作为模板。</li>
<li>行内高亮不能在 <code>.theme</code> 中更改，可通过覆盖 SCSS 的 <code>$code-color</code> 设置。</li>
</ul>
</section>
</section>
<section id="画廊" class="level2">
<h2 class="anchored" data-anchor-id="画廊">画廊</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20221226-quarto-fantasia/quarto-begin.jpg" class="img-fluid figure-img"></p>
<figcaption>2022/12/26 上线前夕</figcaption>
</figure>
</div>


</section>

 ]]></description>
  <category>site-related</category>
  <category>web</category>
  <category>LaTeX</category>
  <category>memories</category>
  <guid>https://blog.sun123zxy.top/posts/20221226-quarto-fantasia/</guid>
  <pubDate>Mon, 26 Dec 2022 00:00:00 GMT</pubDate>
</item>
<item>
  <title>Cnblogs 2 Jekyll：从寄人篱下到手撸全站</title>
  <link>https://blog.sun123zxy.top/posts/20210817-aboutblog/</link>
  <description><![CDATA[ 




<section id="旅程开始" class="level2">
<h2 class="anchored" data-anchor-id="旅程开始">旅程开始</h2>
<p>很早就在考虑自建博客的事情了。</p>
<p>大概是 18 年吧，根据 OIer 传统，打算开个博客存点模板和学习笔记。博客园广告少，dalao 多，还能自定义 css/js 美化博客，<del>比隔壁 CSDN 不知道高到哪里去了</del>，虽然不是很懂前端，但一看就来劲了，开始折腾。于是一个暑假 OI 没啥进步，倒是写了一车 css/js 修改自带皮肤，整出来一套多主题切换系统。之后又经过了数次大改重构，适配了 markdown 编辑器，功能日趋完善。</p>
<p>然而改版越来越多，代码越来越乱，寄人篱下也总有这样那样的不方便之处。想来想去，改别人的东西总是有极限的，与其无数次推倒重构，还不如自己去搭个新的。</p>
<p>这么想着又咕了几个月（笑）</p>
<p>直到 20 年晚些时候才开始认真思考这个问题。一开始也是打算在 Hexo 或 Jekyll 上直接套个主题改改就好，毕竟是相当省事。只是某天在机房摸鱼学了波 Jekyll 后，突然一想——折腾博客也两三年了，懂的前端也不少了，又打算自己搭博客，要不干脆从零手撸个出来？</p>
<p>于是又摸了大半年，差不多可以用了。</p>
<p>以前用 markdown 写的文章都搬过来了，其他的回头再说吧。<del>好像也没啥保留价值</del></p>
<p>那么，之后就在这边安家了。博客园那边应该还会同步发布，但后续的更新和修改就不能保证了。</p>
<p>还有，话说正式启用博客的时间正好是 8 月 17 日，这个时间…</p>
<p><del>是妖妖梦、风神录正式版发售时间</del></p>
<p><del>给国家省点子弹吧（</del></p>
</section>
<section id="杂谈" class="level2">
<h2 class="anchored" data-anchor-id="杂谈">杂谈</h2>
<p>聊聊搭建过程中的一点心得。</p>
<p><a href="https://github.com/sun123zxy/blog-jekyll-code">博客源码</a></p>
<section id="技术-功能" class="level3">
<h3 class="anchored" data-anchor-id="技术-功能">技术 &amp; 功能</h3>
<ul>
<li>基于 <a href="https://jekyllrb.com/">Jekyll</a> 和 <a href="https://github.com/mfenner/jekyll-pandoc">jekyll-pandoc</a> 插件，配合自制小工具 <a href="https://github.com/sun123zxy/InlineMathSpaceKiller">InlineMathSpaceKiller</a> 的静态 markdown 博客。</li>
<li>全站 js 和主题切换动画效果使用 <a href="https://jquery.com/">JQuery</a>。</li>
<li>支持锚点跳转的目录系统。</li>
<li>数学公式使用 <a href="https://katex.org/">KaTeX</a> 渲染。</li>
<li>代码高亮使用 <a href="https://highlightjs.org/">highlight.js</a> 分析代码结构，配合魔改后的样式表实现。</li>
<li>评论系统使用 <a href="https://github.com/giscus/giscus">Giscus</a>，基于 Github Discussions 的静态博客评论系统。</li>
</ul>
</section>
<section id="环境配置" class="level3">
<h3 class="anchored" data-anchor-id="环境配置">环境配置</h3>
<p>看仓库的 <code>README.md</code> 吧，Jekyll 的官方文档也可以（其实是我有点忘了 :p）</p>
</section>
<section id="数学公式jekyll-pandoc-和-inlinemathspacekiller" class="level3">
<h3 class="anchored" data-anchor-id="数学公式jekyll-pandoc-和-inlinemathspacekiller">数学公式、jekyll-pandoc 和 InlineMathSpaceKiller</h3>
<p><del>用插件干啥啊好好用原生 Jekyll Github 自动帮你编译它不香吗</del></p>
<p><del>本地我用 Typora 编写 markdown</del>（最近 Typora 转付费了，现在用 MarkText），希望能在上传过程中尽可能少地改动源文件，这包括内嵌的 <img src="https://latex.codecogs.com/png.latex?%5CLaTeX"> 数学公式。但 Jekyll 自带的 markdown 解析器老是不好使，比如公式里的 <code>|</code> 被解析成表格了之类各种怪七怪八的问题…</p>
<p>于是想到了文档转换界的瑞士军刀——</p>
<blockquote class="blockquote">
<p>If you need to convert files from one markup format into another, pandoc is your swiss-army knife.</p>
</blockquote>
<p>Google 了一圈找到了 <a href="https://github.com/mfenner/jekyll-pandoc">jekyll-pandoc</a>，可以改用 <a href="https://www.pandoc.org/">Pandoc</a> 的文档解析来渲染 Markdown。</p>
<section id="jekyll-pandoc-的具体参数配置" class="level4">
<h4 class="anchored" data-anchor-id="jekyll-pandoc-的具体参数配置">jekyll-pandoc 的具体参数配置</h4>
<p>安装流程照着 README 里给的方法走就好了。这里主要谈一谈参数的配置。</p>
<p>jekyll-pandoc 文档里对 <code>_config.yml</code> 里面的参数设置给出了一个例子（已经过时了）——</p>
<blockquote class="blockquote">
<p>Additional pandoc options can be provided in the Jekyll <code>_config.yml</code>:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pandoc</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">extensions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> normalize</span></span>
<span id="cb1-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> smart</span></span>
<span id="cb1-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> mathjax</span></span>
<span id="cb1-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">csl</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> _styles/apa.csl</span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bibliography</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> bibliography/references.bib</span></span></code></pre></div>
</blockquote>
<p>这些参数等价于 Pandoc 的命令行参数，即上述代码等价于文件渲染时执行</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pandoc</span> target.md <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-o</span> target.html <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--normalize</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--smart</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--mathjax</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--csl</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>_styles/apa.csl <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--bibliography</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>bibliography/references.bib</span></code></pre></div>
<p>所以根据需求照着配就可以了。目前我用的配置是</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plugins</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">   </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> jekyll-pandoc</span></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">markdown</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Pandoc</span></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pandoc</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">extensions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> mathjax</span></span>
<span id="cb3-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> no-highlight</span></span>
<span id="cb3-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">from</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> markdown-smart</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> # disable smart quotes</span></span></code></pre></div>
<ul>
<li><p>开启 <code>--mathjax</code> 可以自动把 <code>$</code> 和 <code>$$</code> 换成 <code>\(</code>、<code>\)</code> 和 <code>\[</code>、<code>\]</code>，可以直接被 KaTeX 提供的 <code>auto-render.min.js</code> 识别。</p></li>
<li><p><code>--no-highlight</code> 打算用 highlight.js 来做高亮，所以这里就不需要了。</p></li>
<li><p>Pandoc 在转换 Markdown 时默认开启智能标点功能（参见 <a href="https://pandoc.org/MANUAL.html#typography">Pandoc 文档 - Extensions - Typography</a>），会把 <code>""</code>、<code>''</code> 自动替换成 <code>“”</code>、<code>‘’</code>，所以用 <code>-smart</code> 关闭这个插件。</p></li>
</ul>
</section>
<section id="spacekiller" class="level4">
<h4 class="anchored" data-anchor-id="spacekiller">SpaceKiller</h4>
<p>还有一个小问题——Typora （MarkText 好像有这个问题）允许存在形如 <code>$ \gcd(a,b) $</code> 这样 <code>$</code> 旁边紧跟着空格的行内公式，但 Pandoc 解析不了。后来翻到这个 <a href="https://github.com/jgm/pandoc/issues/5672">issue</a>，官方似乎不打算修复这个问题，就写了个预处理工具删空格，新文章上传前 <code>spacekiller</code> 一下就可以了。</p>
</section>
</section>
<section id="文章存储结构" class="level3">
<h3 class="anchored" data-anchor-id="文章存储结构">文章存储结构</h3>
<p>没有使用 Jekyll 自带的 posts。</p>
<p>我不喜欢这种图文分离的组织格式。文本和图片本来就同属一篇文章，强行把图片拆开放到 <code>/assets/images/.../</code> 里面既不合逻辑，又丧失了可移植性，匪夷所思。</p>
<p>最后使用了打开 output 选项的 collection 来实现，每篇文章都有一个独立的文件夹，包含 <code>index.md</code> （文本）和所需图片、文件等所有内容。<code>index.md</code> 里面直接使用相对引用插入图片，和无博客状态下写作体验完全一致。</p>
</section>
<section id="页面设计" class="level3">
<h3 class="anchored" data-anchor-id="页面设计">页面设计</h3>
<p>白模写好后就开肝 css，一开始完全参考之前魔改的博客园 iMetro 主题整出来个高仿，后来有了一些更好的想法，比如把侧边栏做成 panel 样式之类的，就成现在这个样子了。</p>
</section>
<section id="图片预加载与缓存" class="level3">
<h3 class="anchored" data-anchor-id="图片预加载与缓存">图片预加载与缓存</h3>
<p>国内访问 github.io 很不稳定，背景图片加载特别慢，这几天在想怎么优化这个问题。</p>
<p>最终的方案是在切换主题时等背景图片加载完毕后再向页面引入主题 css 文件。这样在图片加载过程中，页面显示的 css 尚处于无主题的默认状态，避免了背景白屏的现象出现。</p>
<p>于是去学了波预加载技术，最开始用 Ajax 来做，结果写完发现 Firefox 和 Chrome 都好像没看到 Ajax 的缓存一样，又在加载主题 css 时重新请求了一次图片…</p>
<p>无奈，改用 <code>new Image()</code> 来预加载。这回 Firefox 好使了，但 Chrome 还是很顽固。想了想，这玩意居然与浏览器有关，是不是因为不同浏览器默认缓存过期时间不一样导致的呢？于是去看了响应头，终于发现原来是测试时 <code>jekyll serve</code> 出来的服务器根本没有设置响应的 <code>Expires</code>，然后某些浏览器就默认重新加载了…</p>
<p>那刚刚 Ajax 怕不是也是这个原因…</p>
<p>看了一下 github.io 的响应头，有 10min 的 <code>Expires</code>，应该部署上去就没问题了。</p>
<p>其实就是个 HTTP Cache 的问题吧，看来理解还不够深刻…</p>
<p>PS：Chrome 或 Firefox DevTool 的节流（throttling）功能可以方便的模拟真实网络的限速和延迟，本地测试时非常方便。</p>
</section>
<section id="背景的视差parallax效果" class="level3">
<h3 class="anchored" data-anchor-id="背景的视差parallax效果">背景的视差（Parallax）效果</h3>
<p>这个效果很早就做出来了，但现在才开始深入了解。</p>
<p>用 js 监听 <code>scroll</code> 事件动态更新背景图片的 <code>background-position</code>，以前只有 Firefox 可以实现平滑的滚动，而 Chrome 则会在滚动时白屏——这个问题在最近的版本才消失——总之，当时偷懒，把 Chrome 的这个效果给关了。<del>所以根本没人发现有这个效果对吧</del></p>
<p>监听 <code>scroll</code> 确实不是个好方法。Firefox 的 Console 在该效果启用时会弹出警告，文档里说会与异步平移有冲突：</p>
<ul>
<li><p><a href="https://firefox-source-docs.mozilla.org/performance/scroll-linked_effects.html">Scroll-linked effects — Firefox Source Docs documentation</a></p></li>
<li><p><a href="https://staktrace.com/spout/entry.php?id=834">Asynchronous scrolling in Firefox - staktrace.com</a></p></li>
</ul>
<p>——异步平移冲突的情况我没碰到，但不论是 Firefox 和 Chrome 偶尔都会白屏倒是真的。第二篇文章里提到一种纯 CSS 实现 Parallax 的方法，网上也有人说可以用 CSS 3D。</p>
<p>以后再研究吧…</p>
</section>
<section id="评论系统" class="level3">
<h3 class="anchored" data-anchor-id="评论系统">评论系统</h3>
<p>静态博客的评论要托管，之前感觉有点麻烦就没搞。后来想用基于 Github Issue 的现成轮子来做，但是不论是 <a href="https://github.com/gitalk/gitalk">Gitalk</a> 还是 <a href="https://github.com/imsun/gitment">Gitment</a> 都得把 OAuth 的 Client Secret 写在前端，太不安全；后来发现有个叫 <a href="https://github.com/utterance/utterances">Utterances</a> 的基于 Github Apps 的小众项目好像还行，然后就咕咕咕了半年（</p>
<p>再后来就发现了 <a href="https://github.com/giscus/giscus">Giscus</a>，同样是基于 Github Apps，但和 Utterances 的不同之处在于其使用 Discussions 而不是 Issues 来存储数据。个人认为 Discussions 的设计更适合拿来做评论，总之就花了一个晚上实装了。</p>
<p>但是适配动态切换的主题成了大麻烦。后来找到 <a href="https://github.com/giscus/giscus/issues/336">Issue #336</a> 发现可以向 iframe 里 <code>postMessage</code> 改变参数。但需要注意的是 <code>postMessage</code> 之前需先保证 iframe 加载完毕，试图用<code>onload</code> 事件，但测试发现开新界面时还是有概率失败。然后又 Google 了一波发现正确的做法似乎是 iframe 自己发消息表明可以接受 <code>postMessage</code>，于是就修好了。</p>
</section>
</section>
<section id="画廊" class="level2">
<h2 class="anchored" data-anchor-id="画廊">画廊</h2>
<p>（最早的版本没截图找不到了）</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/cnblogs-19.jpg" class="img-fluid figure-img"></p>
<figcaption>博客园 - 第二次重构 - 基于 iMetro 皮肤的 mc01 和 youmu 主题 (2019)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/cnblogs-20.jpg" class="img-fluid figure-img"></p>
<figcaption>博客园 - 第三次重构，本次重构后支持多皮肤 - 基于 simplememory 皮肤的 yay 主题和基于 iMetro 皮肤的 mc02 主题 (2020)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/jekyll-pre.jpg" class="img-fluid figure-img"></p>
<figcaption>白模阶段 (2020/12)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/jekyll-imitate.jpg" class="img-fluid figure-img"></p>
<figcaption>我高仿我自己.jpg (2021/02)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/jekyll-cur.jpg" class="img-fluid figure-img"></p>
<figcaption>现在的样子 (2021/08, shooted in 2021/12)</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20210817-aboutblog/jekyll-final.jpg" class="img-fluid figure-img"></p>
<figcaption>最终的样子（2022/12/15）</figcaption>
</figure>
</div>
</section>
<section id="尾声" class="level2">
<h2 class="anchored" data-anchor-id="尾声">尾声</h2>
<p>当年的 sun123zxy 还真是对多主题系统有着莫名的执念。最开始的他只是想给博客换个背景，现在似乎已经走的很远了。</p>
<p>博客上线后的 sun123zxy 迎来了充实的高三生活，学业紧张的他却从没有忘记劳逸结合，不停的做着小修小补，甚至在高考倒计时两只手就能数过来的时候他还在……</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb4-1">commit 7a2791ebdcc91415982add697a5b40c62044dabc</span>
<span id="cb4-2">Author: sun123zxy &lt;304244450@qq.com&gt;</span>
<span id="cb4-3">Date:   Wed Jun 1 16:23:16 2022 +0800</span>
<span id="cb4-4"></span>
<span id="cb4-5">    update article</span>
<span id="cb4-6"></span>
<span id="cb4-7">commit edc1e5a0c76f91f0e2ee8bd952550b10f53b3b3f</span>
<span id="cb4-8">Author: sun123zxy &lt;304244450@qq.com&gt;</span>
<span id="cb4-9">Date:   Wed Jun 1 12:09:19 2022 +0800</span>
<span id="cb4-10"></span>
<span id="cb4-11">    optimize punctuation, update article</span></code></pre></div>
<p>总之，到此为止，这位不务正业的 OIer 以自己满意的方式结束了高中生活。等待他和他博客的未来，又是怎样的呢？</p>
<p><a href="../../posts/20221226-quarto-fantasia/">博客搭建随想 Part II - Academic Writing’s not All About PDF</a></p>


</section>

 ]]></description>
  <category>site-related</category>
  <category>web</category>
  <category>memories</category>
  <guid>https://blog.sun123zxy.top/posts/20210817-aboutblog/</guid>
  <pubDate>Tue, 17 Aug 2021 00:00:00 GMT</pubDate>
</item>
<item>
  <title>终末之章——CSP-S2020&amp;NOIP2020退役记</title>
  <link>https://blog.sun123zxy.top/posts/20201206-csps2020noip2020travel/</link>
  <description><![CDATA[ 




<section id="序" class="level2">
<h2 class="anchored" data-anchor-id="序">序</h2>
<blockquote class="blockquote">
<p>走了，回来了。不管如何，这条路似乎已经延伸得很漫长了。从兴趣，变成兼修，变成接近专修，又变回兴趣，这中间的路太长，以至于虽然百味杂陈，却说不出什么感想。</p>
<p>——<a href="https://p9t6g.github.io/2020/10/27/NOIP%E5%A4%8D%E4%B9%A0/">《noip2020复习总结》 by p9t6g</a></p>
</blockquote>
<p>谨以此文，或是完全退役前的最后一点日记和随想，纪念即将结束的5年OI生涯。</p>
</section>
<section id="开始了" class="level2">
<h2 class="anchored" data-anchor-id="开始了">开始了？</h2>
<section id="section" class="level3">
<h3 class="anchored" data-anchor-id="section">2020/09/??</h3>
<p>大部分半退役选手调转枪头停晚自习了。</p>
<p>表示一点都不慌，学文化使我快乐 <del>这么早停干啥啊</del></p>
</section>
</section>
<section id="初赛" class="level2">
<h2 class="anchored" data-anchor-id="初赛">2020/10/11 初赛</h2>
<p>打开选择题…</p>
<p>就这？就这？毒瘤的组合计数和概率期望去哪里了？？？</p>
<p>话说考初赛前几天学校翻修科技楼时把几个计算机科学大佬挂在走廊上增加逼格，结果上面有个香农…</p>
<p>于是选择题就AK了。</p>
<p>有点小飘，一看程序题…这画风不太对劲…</p>
<p>于是差点没做完。<code>nth_element</code>看了半天当成快排了，字符串转圈算不来。二进制dp考场都硬是没看懂，被迫与ABCD斗智斗勇；对完答案发现前面又离奇错一堆，复杂度还算错，当场掉到70+，感觉凉凉。</p>
<p>Anyway，又没复习又没刷题，文化课选手也不指望考得好好，过线万岁吧。</p>
</section>
<section id="开始了-1" class="level2">
<h2 class="anchored" data-anchor-id="开始了-1">开始了。</h2>
<section id="section-1" class="level3">
<h3 class="anchored" data-anchor-id="section-1">2020/10/19</h3>
<p><del>复赛线只有40pt啊</del></p>
<p>申请了晚自习停课，回到了熟悉的小机房里。进门就被亲切的垃圾发酵气味欢迎…</p>
<p>坐到机房最后一个机位上，位置比去年还要摸鱼。清理了桌上堆成小山的垃圾，使用成吨的纸巾擦去了成吨的灰尘，托p9t6g装了个win10，终于坐到了位置上。</p>
<p>观察一下周围… <del>怎么你们比去年还颓啊</del></p>
</section>
<section id="section-2" class="level3">
<h3 class="anchored" data-anchor-id="section-2">2020/10/26</h3>
<p>模拟赛被各种虐爆，主席树sb题写了2h，被高一选手吊打。</p>
<p>感觉很菜，但心态良好（</p>
<p>颓废方面的话，只是隔几天打一小会妖妖梦或者随机绀而已。说实话有一段时间没碰东方了，以前收率拉满的反魂蝶现在都有点吃力。</p>
<p>记得初三高一的时候还时常能看到肝正作的同学（那时还有几个上一届的学长），不知不觉的就剩我一个了…</p>
<p>下一届学弟学妹不太了解，不知道东方的火炬能不能继续传下去。</p>
</section>
<section id="section-3" class="level3">
<h3 class="anchored" data-anchor-id="section-3">2020/11/04</h3>
<p>嗯，我知道过几天就CSP了，但突然有点学不进去…</p>
<p>于是在机房学了波Jekyll，装了Git开始手撸新博客前端…</p>
</section>
</section>
<section id="csp-s2020" class="level2">
<h2 class="anchored" data-anchor-id="csp-s2020">CSP-S2020</h2>
<section id="day-0" class="level3">
<h3 class="anchored" data-anchor-id="day-0">2020/11/06 Day 0</h3>
<p>试机日。</p>
<p>以前NOIP都在宇宙名校举行，地方都不用挪。这回换到了NK的一个奇远无比的校区，于是很新奇的有了一次集体旅行的经历。</p>
<p>坐上车才发现CCF早就给了一等分数线，emmm 70pt…那我尽量和六年级小朋友度长絜大一下吧（笑） flag x1</p>
<p><del>后来发现70pt是初赛一等奖线，白高兴一场</del></p>
<p>大巴一路东行。不知不觉，窗外已是高低起伏的绿色的海洋。明明是条正规的国家高速公路，居然到处坑坑洼洼。大巴前侧小一届的学弟们在棋牌娱乐，车后一众老年人却沉迷手游。 <del>好像不太符合社会规律？</del></p>
<p>PC玩家只能往窗外望。一路上又是架桥又是隧道的，让人不禁怀疑这是哪门子鬼地方。忍不住开始吐槽：</p>
<ul>
<li>试机 <img src="https://latex.codecogs.com/png.latex?%5Ciff"> 去郊游</li>
<li>前往LJNK中学为山区孩子送去温暖</li>
<li>…</li>
</ul>
<p>摇摇晃晃四十多分钟，到了。还没下车，只见一座巨型空心扁平圆柱建筑矗立校园中央…</p>
<p>“这是……土楼？”</p>
<p><del>山区少数民族聚居地学校</del></p>
<p>整个学校独占了一个极大的街区，旁边是一些附属建筑和一个标准体育场，在巨大的圆柱面前显得额外渺小。</p>
<p>说实话修的还是蛮好的，但确实太偏僻了，周围全都是些巨型吊车，没啥人烟。</p>
<p>考试场地——伯苓体育馆 <del>爆零体育馆</del></p>
<p>合了影就进去试机了。虽然停不下来吐槽，但还是得给考试场地点个赞。体育馆就是不一样，里面非常宽敞明亮，几百台电脑的大型阵列让人印象深刻。</p>
<p>随便写了个 <code>a+b problem</code> 就开始玩这里的局域网，差点搭了个FTP起来。</p>
<p>Waper爷和disangan233在我的怂恿之下开始快乐联机CS1.6（</p>
<p>总之试机日就这样过去了，堵车堵了快2h才到家，颓了会儿 Portal 2 就睡觉了。</p>
</section>
<section id="day-1" class="level3">
<h3 class="anchored" data-anchor-id="day-1">2020/11/07 Day 1</h3>
<p>睡了10个小时，早上9点以饱满的精神状态醒来<del>开始撸博客前端</del>，吃完午饭才感觉有点慌，去敲了个倍增LCA压压惊，然后慢摇摇的坐车到了考场。</p>
<p>开考后断局域网好评，分片区上厕所好评，发的三明治馅料十足好评（</p>
<p>T1瞪了2min直接跳了，30min切了T2（这回长记性了，开了<code>unsigned long long</code>），T3想了会儿感觉应该不会做，于是就开了T4。</p>
<p>一开始感觉直接就顺着for一道随便模拟+博弈一下就可以了，没怎么细想就开始敲代码。调了调然后发现过不了大样例，总有个 <img src="https://latex.codecogs.com/png.latex?%5Cpm%201"> 的误差。再次思考发现之前的做法有一点逻辑上的漏洞，正着for完一道还要回溯做博弈，于是又写又改，还是没过大样例。</p>
<p>此时已过2.5hour，有点小慌，回头去敲T1。时间紧张，忘记了开考时想到的更好写的前缀和+二分，直接糊了个一堆if的 <img src="https://latex.codecogs.com/png.latex?O(q)"> 上去结果半天没调过（赛后还发现以为能过的40pt部分都有锅），炸裂。</p>
<p>出考场交流了一下，似乎T4人均写错误解法然后观察大样例用奇偶性水过了，有点不爽。Waper爷讲了讲T3的做法，听了个大概，确实是我做不起的题，溜了溜了。</p>
<p>分数有点惨，丢人啊。真就和六年级小朋友度长絜大是吧…</p>
<p>暂时别想了，回去颓吧。于是晚上又是 Portal 2 和搭博客。</p>
<p>…</p>
</section>
<section id="赛后" class="level3">
<h3 class="anchored" data-anchor-id="赛后">2020/11/08 赛后</h3>
<p>个人认为考试时精神状态还可以，开题策略上也没啥问题，跳过码农T1和八成不会做的T3都是很正确的选择。但是应该先把跳了的题的各种idea记录下来的。</p>
<p>T4考场代码已经将近正解了，但是因为少发现了个关键性质没有搞出来。还是莽撞了，没多想就开始敲压轴题是大忌啊。不熟悉四道题的赛制、过分低估CSP-S的难度也是一个原因。 <del>谁叫教练考前一直奶我们人均AK</del></p>
<p>也不知道是否会计入省选成绩，不过作为一个月后就该退役的文化课选手也没啥好担心的对吧？</p>
<p>当给NOIP攒RP吧。</p>
<p>upd: 初评出来了，居然没有挂分（ <del>分也就那么一点</del></p>
</section>
</section>
<section id="要来了" class="level2">
<h2 class="anchored" data-anchor-id="要来了">要来了。</h2>
<section id="section-4" class="level3">
<h3 class="anchored" data-anchor-id="section-4">2020/11/23</h3>
<p>开始停课了。 <del>翘了期中考试</del></p>
<p>没有什么特别的感想，除了不用上早自习能多睡一会儿。</p>
<p>天天都考四道题，感觉还是做不完，而且考后也做不完…</p>
<p>教练让我们每个人出道题出来和别的学校换题，莫名感觉这次又要像之前的两次互测一样咕掉。</p>
<p>说实话搞了那么久OI一次校内互测都没有举行，真的感觉非常遗憾，好想把自己的idea分享给别人，好想在校内OJ上留下点自己的印记…</p>
<p>一年前准备投给互测的 <a href="../../posts/20201206-spring/">白银之春</a> 老std一堆bug，干脆重构了一遍。顺便一起给半退役后摸出来的 <a href="../../posts/20201206-gcdconv/">GCD卷积</a> 造了数据，挂Github上准备投题。</p>
<p>UPD: 真的咕了 <del>sb教练再次欺骗了我的感情</del> 。反正没机会了就挂在博客上了，希望有人看到了拿来玩（</p>
</section>
<section id="section-5" class="level3">
<h3 class="anchored" data-anchor-id="section-5">2020/11/29</h3>
<p>周五晚上和Waper、p9t6g在机房颓完CS1.6，回家时和Waper爷聊到我们长长的OI生涯。今天突然看到了他的 <a href="https://www.luogu.com.cn/blog/EnderManWaper/oi-hui-yi-lu">OI回忆录</a> ，有点小感伤。</p>
<p>我校最早接触OI的10个所谓“信息特长生”，最终也只剩下了Waper一个人孤军奋战。看到昔日的战友一个个离去，我不知道Waper内心的感受。</p>
<p>死人并没有什么悲伤，只有活着的人在承受离别的痛苦。</p>
<p>Waper爷平时看上去像个大老粗人，但他对五年OI生涯的感情是非常细腻的。平时和他交流不算太多，但作为离开的九位同学中坚持得还算长的，我也是看着Waper默默努力了5年，达到了现在的高度。初一初二的时候，总是他，一个人在机房后面学习更高更难的算法，横眉冷对初中竞赛教练的鄙夷和其他同学的不解。现在他又要和更多更强的选手竞争，承受文化课和竞赛成绩的双重压力…</p>
<p>也不知道Waper会不会看到这篇博客，在这里向你表达衷心的祝愿，希望能在明年NOI的Au榜上看到你的身影。</p>
</section>
<section id="section-6" class="level3">
<h3 class="anchored" data-anchor-id="section-6">2020/12/02</h3>
<p>又是 Day -2 ，又是考前信心赛，又是T2换根dp，又没调出来，又是倒数第一…</p>
<p><a href="../../posts/20191117-csps2019travel/#day--2">历史总是惊人的相似</a></p>
<p>自闭了，撸了一天的前端（</p>
</section>
</section>
<section id="noip2020" class="level2">
<h2 class="anchored" data-anchor-id="noip2020">NOIP2020</h2>
<section id="day-0-1" class="level3">
<h3 class="anchored" data-anchor-id="day-0-1">2020/12/04 Day 0</h3>
<p>因为考场和CSP一样就没去试机。</p>
<p>大清早刚到机房不久halfway就来打气，听了还是蛮开心的。<del>这回没有可乐和士力架差评</del></p>
<p>中午机房出现了6人联机CS1.6的空前盛况，玩的很开心。</p>
<p>觉得自己八成回不来了，于是给机房电脑擦除了数据，回家打了一小会CSGO，睡了。</p>
<p>争取明天给自己画上一个完美的句号吧。</p>
</section>
<section id="day-1-1" class="level3">
<h3 class="anchored" data-anchor-id="day-1-1">2020/12/05 Day 1</h3>
<p>早上6:15起来往考场赶，又在学校里晃了半个多小时才进考场。<del>LJNK的操场台阶很适合躺着睡觉啊 (?)</del></p>
<p>T1是个什么沙包题啊，封装一下分数吧，20min切了。</p>
<p>然后T2就把我最后一次NOIP埋葬了。</p>
<p>字符串？NOIP不是几百年没考字符串了吗？？</p>
<p>有点慌，看懂题意想了想，奇偶性随便预处理一下能解决，应该是要枚举字符串 <img src="https://latex.codecogs.com/png.latex?C"> 的，然后发现要判循环节大小。然后发现自己只会 <img src="https://latex.codecogs.com/png.latex?O(n%20%5Csqrt%20n)"> 判，外面还要多乘上个 <img src="https://latex.codecogs.com/png.latex?O(n)"> ，不如暴力。然后想到KMP，但好久没做字符串了，不敢确定它真的能判，就丢了。上了个厕所想到哈希过后怎么dp搞搞，但从厕所回来就忘掉思路了，一直觉得没有比暴力更优的思路。呆呆了看了10min，回头再看吧，跳题了。</p>
<p>两种正确做法想到了都没打，不愧是我。</p>
<p>T3是几百年没出现过的乱搞+构造+SPJ。随便画了画出了个类似汉诺塔移法的东西，看到 <img src="https://latex.codecogs.com/png.latex?n"> 、 <img src="https://latex.codecogs.com/png.latex?m"> 不大就准备开写。脑中闪过爆炸的CSP-S T4，又仔细的把算法的细节完善了一下才开敲。</p>
<p>于是90分钟过去了，甚至还没有开始调试。慌张的一批，开T4了。嗯，30分是能暴力+二分判的，40分来点除法也是能骗的，后面的暂时别管吧，于是现在面临敲T4暴力、敲应该是正解的T3、回头看T2的选择。</p>
<p>我选择了敲T3。</p>
<p>又写了30min，前三个样例过了。又调了30min，还是过不了最大的样例。此时只剩40min，丢掉去敲T4的30分，过了。茫然的瞪了5分钟T2，比赛结束了。</p>
<p>1=不保，惨淡退役。</p>
<p>因为之前做过心理准备，所以情绪还算稳定。出考场听说T2人均KMP <img src="https://latex.codecogs.com/png.latex?O(26%20%5Ctimes%20n%20%5Cln%20n)">，但脑子已经不好使了，还是不太会做。坐在车上想起厕所里想到的hash，发现似乎直接暴力调和级数跳就可以处理循环节了，emmm…</p>
<p>又想起自己打了那么久的T3好像还是 <img src="https://latex.codecogs.com/png.latex?O(n%20m%5E2)"> 的，算法没假时间复杂度却假了，呵呵。</p>
<p>T1卡不卡高精、入度出度什么的，已经不重要了。</p>
<p>p9t6g说他30min切了T1、T2，惹不起打扰了。Waper爷T2、T4都拿了不少的分，不知道能不能上省队线。高三来划水的的Ag爷trrb倒是很低调的拿了个340，膜膜膜。</p>
<p>和Waper、trrb坐车回家了。</p>
<p>某一瞬间，似乎有点恍惚。</p>
<p>回过神来，发现自己正哼着《さくらさくら ～ Japanize Dream…》。</p>
<p><img src="https://blog.sun123zxy.top/posts/20201206-csps2020noip2020travel/p9t6g_chat.png" class="img-fluid"></p>
</section>
<section id="赛后-update-20201208" class="level3">
<h3 class="anchored" data-anchor-id="赛后-update-20201208">赛后 （Update 2020/12/08）</h3>
<p>初评出来了。T1居然卡了40分的通分 <code>a*b</code> 爆 <code>long long</code>，向出题人致以诚挚的问候。</p>
<p>去年和今年的CSP-S都设了坑，第一题考察数据范围细节也许会成为NOIP新常态吧。</p>
<p>无脑 <code>long long</code> 的时代结束了。</p>
<p>…</p>
<p>要是运气好一点，也许路上哼的就是《紅楼 ～ Eastern Dream…》了吧。</p>
<p>作为垃圾退役选手，考场降智秒不掉T2也算可以接受，当T3把锐气削减后，结局基本就没有悬念了。遗憾的是没有回头去看一眼T2，不仅没能切掉，白送的45分暴力也丢掉了。T3玩了那么长的时间也没调得出来。</p>
<p>其实这样的结局也不完全是运气所致。本来就只是抱着划水的心态，为竞赛生涯画个句号罢了，考前的那么多次模拟赛，似乎也并没有特别努力的去得分。本想着可以和去年一样轻松拿奖，怎料划着划着就翻船了呢。</p>
<p>也许真的是去年手感太顺了吧。</p>
</section>
</section>
<section id="结束了" class="level2">
<h2 class="anchored" data-anchor-id="结束了">结束了。</h2>
<p>名正言顺的退役了。</p>
<p>学了那么多年OI还是个小透明，要说给别人留下了什么印象，也就初三考省选时给保安讲哈希的神奇经历了吧。</p>
<p>很早以前就意识到自己和别的OIer不太一样了。别人的颓废是打游戏水知乎，而我喜欢瞎学点没用的东西。</p>
<p>OI是我的兴趣，但不是唯一的兴趣，而我也没有凭兴趣使然就有学上的天赋。本来想得就比别人慢，本来题量就没有别人大，本来就知道自己是不务正业的OIer，这也许就决定了我在OI上的高度了吧。学了那么几年撞到一次省一，我已经满足了。</p>
<p>五年的OI生涯已经不算短了，虽然没有碰到几个知心朋友，但是收获是不可估量的。OI保持并强化了我对计算机的兴趣，也让我对这个世界更加好奇了。我想若是没有OI的经历，或许我不会为了搭博客去学前端和网络原理，不会那样从容的在Unity里使用C#，不会用Python在Minecraft里造红石音乐，不会有支持所有前述整活的码力；也不会在学孟德尔的豌豆时想到FMT，学有机化学时想到Burnside和生成函数；更永远不会为了搞懂生成树计数独立证明行列式的几大定理，不会翻开《算法导论》惊叹于“没用的”数论在RSA加密里的美妙运用，永远不知道“理性愉悦”是多么的让人快乐……我甚至觉得OI间接的帮助我入坑了东方——我们享受解决问题带来的快感，我们分享题解为后人搭桥，我们把有趣的idea出成题目给大家分享，我们还用爱发电，建立并维护了洛谷、UOJ、LOJ、etc. 那么多规模可观的OI社区，这份热爱和同人精神的本质是一样的啊。</p>
<p>我相信这五年带给我的成长在更远的将来是有价值的。</p>
<p>完全投身文化课的学习，我知道这并不是条容易的路，但我会尽力在其中找到乐趣。还有战友在OI这条船里奋斗，祝愿你们在接下来的省选和NOI取得满意的分数，过一个轻松一点的高三。</p>
<p>退役不代表完全离开OI。还有几篇未完成的学习笔记（有一篇写了20多k了舍不得丢掉（笑）），咱尽量找时间填上。也许闲暇时也会继续学点东西理性愉悦一下。</p>
<p>我们在各自的道路上奋斗，我们都有光明的未来。</p>
<p style="text-align: right">
——NOIP2020赛后 记
</p>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7">???</h2>
<blockquote class="blockquote">
<p>惟江上之清风，与山间之明月，耳得之而为声，目遇之而成色，取之无禁，用之不竭，是造物者之无尽藏也，而吾与子之所共适。</p>
<p>客喜而笑，洗盏更酌。肴核既尽，杯盘狼籍。相与枕藉乎舟中，不知东方之既白。</p>
<p style="text-align: right">
——《赤壁赋》
</p>
</blockquote>
<p><strong>Next Phantasm…</strong></p>


</section>

 ]]></description>
  <category>algorithm</category>
  <category>tour</category>
  <category>memories</category>
  <guid>https://blog.sun123zxy.top/posts/20201206-csps2020noip2020travel/</guid>
  <pubDate>Sun, 06 Dec 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>About</title>
  <link>https://blog.sun123zxy.top/posts/about/</link>
  <description><![CDATA[ 




<p>说是 About，但莫名其妙写成了近况杂谈（笑）</p>
<p>关于博客本身的想法，请移步</p>
<ul>
<li><a href="../../posts/20210817-aboutblog/">博客搭建随想 Part I</a></li>
<li><a href="../../posts/20221226-quarto-fantasia/">博客搭建随想 Part II</a></li>
</ul>
<p><strong>Next Phantasm…</strong></p>
<section id="nov.-2024" class="level2">
<h2 class="anchored" data-anchor-id="nov.-2024">Nov.&nbsp;2024</h2>
<p>XCPC 退役但被意外拉去再打一年的 sun123zxy。旅游一下也未尝不可啦。</p>
<p>主业方面，认识了下一届不少活跃的同学，深感自己主观能动性缺乏。托他们的福，现在讨论氛围变好很多。</p>
<p>提了些 Issue，写了个 PR，做了个红乐，蹭 / 参加 / 主讲了一些学术活动，出了道校赛题，看了半本砖头，……</p>
<p>被同学精准推荐了 Celeste，根本停不下来，竟然一周达成了全成就，荒废了飞机（</p>
<p>不确定的未来总会使人焦虑，那就先做好眼前的事吧。</p>
</section>
<section id="sep.-2023" class="level2">
<h2 class="anchored" data-anchor-id="sep.-2023">Sep.&nbsp;2023</h2>
<p>填坑的一年。</p>
<ul>
<li><p>XCPC participant，数数爱好者。</p></li>
<li><p>Quarto / LaTeX 模板库继续完善。</p></li>
<li><p><a href="https://www.bilibili.com/video/BV1fs4y1U7Nt/">妖 LNB</a> 达成。</p>
<blockquote class="blockquote">
<p>春日兴起，一发入魂。</p>
<p>后停飞数月。夏，园体验版出。疾梦机甚棍，遂转魔。风驰电掣，摧枯拉朽，俄而手熟，甚爱之。然此机甚胖，游走未几，擦挂无数；况诱导不复，中道加险，平日疏于背板，以至事故频发。痛定思痛，乃知其不易。披甲上阵，还需练习。</p>
<p>坊间有言，机者三年而至其极。然避弹乃皆出于兴，乘兴而至，兴尽而反，何必至其极耶？且吟且行，无惧蹉跎。</p>
</blockquote></li>
<li><p>目前对从代数角度研究 DFT 卷积性质感兴趣。</p></li>
</ul>
</section>
<section id="dec.-2022" class="level2">
<h2 class="anchored" data-anchor-id="dec.-2022">Dec.&nbsp;2022</h2>
<p>仍然是退役 OIer 的 sun123zxy。</p>
<p>啥你说 XCPC？校队啥时候招人？</p>
<p>他还是老样子。整天就抱着他那电脑敲敲敲，要不就是抱着他那堆数学书看看看，天天在寝室走过来走过去的不知道在想什么。</p>
<p>你说他爱学习吧，他又不刷题又不卷综测，看本书半年都看不完，敲的也不像什么正经玩意儿，整天嚷嚷着好忙时间不够。大作业研讨课他倒挺热衷，一有机会就开始熬夜，结果每到考试就原形毕露，考得比人家专业外的人还差。还能咋地，没刷题呗！跟他说也没用，他知道了也不会改。</p>
<p>其它的变化也没有太多，无非是车龄增加 1 年，STG 继续退步罢了。之前红石音乐自动化他趁暑假重新写了一版，明明代码和存档都快做完了，他却突然放弃，我们也不知道是怎么回事。现在他在搞那个什么 LaTeX，整天盯着论文改改改，我们也不懂。</p>
<p>反正他就是那种人了。不过不管怎么说，他自己还算满意现在的生活。</p>
<p>说不定有人喜欢这种性格呢。</p>
</section>
<section id="aug.-2021" class="level2">
<h2 class="anchored" data-anchor-id="aug.-2021">Aug.&nbsp;2021</h2>
<p>退役 OIer，喜欢在电脑面前发呆。</p>
<p>刷题不多，数学将就，整活还行。总的来说就是不务正业（</p>
<p>常用的语言除了 C++ 就应该是 Python 和 C# 吧。</p>
<p>码风偏工程向，<del>经常封装强迫症发作把一车数据结构封到 class 里去结果一点都不好用</del>，现在一般用 namespace 封装不需要实例化的数据结构。</p>
<p>特别讨厌可读性低的代码，甚至因此放弃毒瘤卡常题。</p>
<p>整活方面的话，最近在<del>填坑</del>研究基于 Python 和 MIDI 的自动红石音乐生成，当然还有正在搭的博客啦。<del>一放假 github 就一堆小绿点（</del></p>
<p>东方众。熟悉的作品大概从下图能看出来吧</p>
<p><a href="https://cd.thwiki.cc/quiz?95e9020143d5b2eed57029875fe0e90d">2021/08/23 原曲认知测验 弹幕作 0.5s 100题</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/about/music_test.jpg" class="img-fluid figure-img"></p>
<figcaption>原曲认知测验</figcaption>
</figure>
</div>
<p>STG 打的还行，妖妖梦专精，Hard 稳通 Lunatic 混关的水准吧。打过 <a href="https://www.bilibili.com/video/BV1MA411h7Q1">Extra</a>、<a href="https://www.bilibili.com/video/BV1ZZ4y1x7Bx">Phantasm</a> 的 NMNBNR。目前在懒散的尝试 Lunatic NB。<del>差不多咕了</del></p>
<p>远古年代打过 Dancing Line 的全关卡完美。</p>


</section>

 ]]></description>
  <category>site-related</category>
  <guid>https://blog.sun123zxy.top/posts/about/</guid>
  <pubDate>Sat, 24 Oct 2020 00:00:00 GMT</pubDate>
</item>
<item>
  <title>CSP-S2019游记</title>
  <link>https://blog.sun123zxy.top/posts/20191117-csps2019travel/</link>
  <description><![CDATA[ 




<section id="day--26" class="level2">
<h2 class="anchored" data-anchor-id="day--26">Day -26</h2>
<p>初赛。</p>
<p>感觉比去年水很多啊，出来人均90+的样子，咕分80+的我瑟瑟发抖</p>
<p>所以CSP要比NOIP简单？ <del>flag x1</del></p>
<p>终测貌似比估分高了一点，但复赛线六十几也太离谱了吧？</p>
</section>
<section id="day--12" class="level2">
<h2 class="anchored" data-anchor-id="day--12">Day -12</h2>
<p>停课了。</p>
<p>学校给我们年级搞OI的单独腾出来一个机房用，<del>卸sb自带软件</del>装电脑装了一晚上</p>
<p>似乎被分配到了绝佳摸鱼位？</p>
</section>
<section id="day--9" class="level2">
<h2 class="anchored" data-anchor-id="day--9">Day -9</h2>
<p>毒瘤xinyue天天<del>省选</del>CSP-S模拟</p>
<p>喂喂提高组有这么难吗 <del>flag x2</del></p>
</section>
<section id="day--6" class="level2">
<h2 class="anchored" data-anchor-id="day--6">Day -6</h2>
<p>完成成就：第一次线下联机打则</p>
<p><del>机房存在的价值不就在于局域网吗</del></p>
<p>格斗苦手不敢参战太久，大部分时间都在看LF咲夜吊打disangan233（</p>
</section>
<section id="day--4" class="level2">
<h2 class="anchored" data-anchor-id="day--4">Day -4</h2>
<p>妖妖梦EX初通！</p>
<p>激动的调到Extra Start发现并没有PH，，，</p>
<p>好像还没有收完60张符卡不能解锁啊</p>
<p>然后继续颓颓颓（</p>
<p><del>跑题了</del></p>
<p><del>“游”记</del></p>
</section>
<section id="day--2" class="level2">
<h2 class="anchored" data-anchor-id="day--2">Day -2</h2>
<p>考前信心赛。</p>
<p>t1水过马上去开t3然后看错题意，以为是个sb树上差分+倍增题就敲了，然后死活调不过大样例。寻思我过了小样例，不太可能是题意看错了吧，然后就硬钢2h无果，t2 sb换根dp水了个暴力就滚粗了…</p>
<p>机房倒数第一，信心赛成功爆炸 :(</p>
<p>有一个神奇的小插曲，考试的时候班主任（halfway）来给我们CSP-S壮行，一个彪形大汉一脚踹开大门就是一声：“同学们——”，身后是一群同样剽悍的其他竞赛的同学…</p>
<p><del>FBI OPEN THE DOOR</del></p>
<p><del>彩6既视感</del></p>
<p>总之，剽悍的班主任发给我们每人一根士力架和一瓶样式独特的可口可乐，扬长而去…</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20191117-csps2019travel/cola.jpg" class="img-fluid figure-img"></p>
<figcaption>样式独特</figcaption>
</figure>
</div>
<p><del>这可乐没啥味道啊跟白水一样</del></p>
</section>
<section id="day--1" class="level2">
<h2 class="anchored" data-anchor-id="day--1">Day -1</h2>
<p>怎么你们人人都在制造恐慌啊都在复习些啥啊CSP考FFTNTT吗害人不浅啊你们这些神仙啊啊啊</p>
</section>
<section id="day-0" class="level2">
<h2 class="anchored" data-anchor-id="day-0">Day 0</h2>
<section id="上午" class="level3">
<h3 class="anchored" data-anchor-id="上午">上午</h3>
<p>开始还比较正常，然后jzp突然叫我们去帮着把电脑搬到CSP-S的考场去——</p>
<p>蛤？？？</p>
<p>回来气氛就变得沙雕起来，xinyue和jzp让我们到机房外的白板上签名留念</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://blog.sun123zxy.top/posts/20191117-csps2019travel/board.jpg" class="img-fluid figure-img"></p>
<figcaption>签名墙</figcaption>
</figure>
</div>
<p>也许有些人后天过后就见不到了，珍惜当下的时光吧…</p>
</section>
<section id="中午" class="level3">
<h3 class="anchored" data-anchor-id="中午">中午</h3>
<p>机房变网吧.jpg</p>
</section>
<section id="下午" class="level3">
<h3 class="anchored" data-anchor-id="下午">下午</h3>
<p>两点钟坐车去试机。</p>
<p>随便敲了个线段树，居然把PushDown给忘掉了，有被菜到。左顾右盼一波，旁边有神仙10min切了LCT…</p>
<p>害怕.jpg</p>
<p>和吸取教训，p9t6g，Waper去看了初中老师，班主任让我们飞黄腾达了过后回去修理一下他们班现在跳的一批的信竞生？？？</p>
</section>
</section>
<section id="day-1" class="level2">
<h2 class="anchored" data-anchor-id="day-1">Day 1</h2>
<p>差评，没有发面包（</p>
<p><del>没错我考CSP就是冲着这个来的</del></p>
<p>压缩包密码“认真思考”，分不清O和0输错了好多次</p>
<p>t1瞪了10min切了</p>
<p>t2看上去有点意思，想到了最基础的dp，然后发现要整体移动，但居然没有想出来怎么搞。换个思路想觉得可以只关心在<img src="https://latex.codecogs.com/png.latex?0">哪里的dp值，这样就可以不用dp，直接从每个点往上跳，把时间复杂度优化到与树高相关。然后又想了想，似乎可以倍增找断点然后主席树或者离线维护一个桶。自己感觉不太稳，就先水50pt去看t3了</p>
<p>t3一股不可做的样子，，看暴力吧</p>
<p><img src="https://latex.codecogs.com/png.latex?n!">的10pt肯定能拿吧，链的数据也可以骗吧</p>
<p>开始敲了</p>
<p>诶这链怎么这么难写啊</p>
<p>看了看数据范围突然想到退火，然后就弃掉了链开始敲敲敲</p>
<p>调了好久好久，样例1 <img src="https://latex.codecogs.com/png.latex?T=1">正确率总是极低..</p>
<p>t3爆0，我怕是没了啊</p>
<p>回去测了t2的链的大样例 <del>114514什么鬼</del> ，发现本地居然只跑了10s，然而好像并不能改变什么…</p>
<p>剩下20min检查文件，安静的坐着<del>胡思乱想</del></p>
<p>话说这个t2大样例如此优秀，这个t3这么毒瘤，是不是今年的出题人都很年轻鸭？</p>
<p>出了考场发现人均200+，有点小失落</p>
<p>t1卡ull啊那我5分没了</p>
<p>t2移位直接指针移位回溯复原就可以了啊，真就考场智商减半吗，，，</p>
<p>我们这里的集训队爷好像都没做起t3，这啥神仙题啊</p>
<p>这场的t3倒是让我发现退火并没有想象中的万能，总结了一些不太适合用退火的题型，学到了（</p>
<p>嗯，一股省选气息</p>
<p>不管，继续颓TH（</p>
</section>
<section id="day-2" class="level2">
<h2 class="anchored" data-anchor-id="day-2">Day 2</h2>
<p>差评，还是没有发面包（</p>
<p>密码是“抓紧时间”。</p>
<p>看着t1一脸懵，感觉连骗分都有点虚，就开了t2。随便想了个<img src="https://latex.codecogs.com/png.latex?O(n%5E3)">的区间划分dp，感觉还可以优化，然后开了t3。40pt的白送<img src="https://latex.codecogs.com/png.latex?O(n%5E2)">和15pt的链好像很好骗的样子，就开始写t3——</p>
<p>结果链就给写崩了，调了整整30min…</p>
<p>回头看t2，先写了<img src="https://latex.codecogs.com/png.latex?O(n%5E3)">的dp，然后发现决策好像是单调的，单调移动指针维护后缀min即可<img src="https://latex.codecogs.com/png.latex?O(n%5E2)">，写了会儿就过了大样例。</p>
<p>又回头看t1，突然发现好像用沙雕五维dp就可以有64pt了，就rush了一波，竟然没怎么调就过了。</p>
<p>还剩20min，估计差不多就这样了。</p>
<p>观察了一下四周，右手边的老哥打开了画图画了只草泥马？？？</p>
<p>三道暴力滚粗。</p>
<p>t1比大众暴力少骗了二十分，t3没打二叉树，爆炸</p>
<p>day2还是挺有区分度的，巨佬们估计考的不错吧</p>
</section>
<section id="赛后" class="level2">
<h2 class="anchored" data-anchor-id="赛后">赛后</h2>
<p>花了20%的钱参加了一场NOI</p>
<p><del>江西花了10%的钱参加了两场NOI</del></p>
<p>听说今年的普及组挺简单的？</p>
<p style="text-align: right">
赛后的某个星期天 记
</p>


</section>

 ]]></description>
  <category>algorithm</category>
  <category>tour</category>
  <category>memories</category>
  <guid>https://blog.sun123zxy.top/posts/20191117-csps2019travel/</guid>
  <pubDate>Sun, 17 Nov 2019 00:00:00 GMT</pubDate>
</item>
</channel>
</rss>
